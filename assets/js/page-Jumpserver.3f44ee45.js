(window.webpackJsonp=window.webpackJsonp||[]).push([[33],{547:function(s,a,t){s.exports=t.p+"assets/img/Jumpserver01.b336b2c4.png"},548:function(s,a,t){s.exports=t.p+"assets/img/Jumpserver02.c7fb7bb0.png"},606:function(s,a,t){"use strict";t.r(a);var e=t(1),r=Object(e.a)({},(function(){var s=this,a=s.$createElement,e=s._self._c||a;return e("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[e("h1",{attrs:{id:"jumpserver"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#jumpserver"}},[s._v("#")]),s._v(" Jumpserver")]),s._v(" "),e("p",[s._v("：一个 Web 服务器，提供了跳板机、堡垒机的功能，简称为 JMS 。")]),s._v(" "),e("ul",[e("li",[e("a",{attrs:{href:"https://docs.jumpserver.org/zh/master/",target:"_blank",rel:"noopener noreferrer"}},[s._v("官方文档"),e("OutboundLink")],1)]),s._v(" "),e("li",[s._v("由飞致云公司开源，基于 Python 的 Django 框架开发，于 2018 年发布 1.0 版本。")])]),s._v(" "),e("h2",{attrs:{id:"原理"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#原理"}},[s._v("#")]),s._v(" 原理")]),s._v(" "),e("h3",{attrs:{id:"功能"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#功能"}},[s._v("#")]),s._v(" 功能")]),s._v(" "),e("ul",[e("li",[s._v("支持基于 SSH、Telnet、RDP、VNC 协议托管 Linux 或 Windows 主机，还可管理 Mysql 等应用。")]),s._v(" "),e("li",[s._v("连接 Linux 主机时会打开一个 WebSSH 窗口，连接 Windows 主机时会打开一个 GUI 窗口。\n"),e("ul",[e("li",[s._v("支持 Ctrl+C 复制、Ctrl+V 粘贴等快捷键。")]),s._v(" "),e("li",[s._v("支持基于 SFTP 协议上传、下载文件。")]),s._v(" "),e("li",[s._v("基于 Ansible 批量管理主机，支持批量执行命令。")])])])]),s._v(" "),e("h3",{attrs:{id:"优点"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#优点"}},[s._v("#")]),s._v(" 优点")]),s._v(" "),e("ul",[e("li",[s._v("便于批量管理主机的登录权限。")]),s._v(" "),e("li",[s._v("避免将主机的登录密码直接告诉用户。")]),s._v(" "),e("li",[s._v("用户可以通过跳板机连接到网络不能直达的主机。")]),s._v(" "),e("li",[s._v("提供了命令过滤、操作记录等功能，安全程度高。")])]),s._v(" "),e("h3",{attrs:{id:"缺点"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#缺点"}},[s._v("#")]),s._v(" 缺点")]),s._v(" "),e("ul",[e("li",[s._v("存在单点故障的风险。JMS 挂掉时用户就不可以访问所有托管主机，JMS 被入侵时所有托管主机都有安全风险。\n"),e("ul",[e("li",[s._v("不过可以分布式部署多实例，进行负载均衡，实现高可用。")])])]),s._v(" "),e("li",[s._v("与 SecureCRT 等专用的 SSH 客户端相比，功能较少。")])]),s._v(" "),e("h3",{attrs:{id:"主要模块"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#主要模块"}},[s._v("#")]),s._v(" 主要模块")]),s._v(" "),e("ul",[e("li",[s._v("Core ：核心组件，通过 Restful API 与其它模块交互。")]),s._v(" "),e("li",[s._v("Coco ：一个 SSH 客户端，采用 Python 开发。目前已被 Koko 替换。")]),s._v(" "),e("li",[s._v("Koko ：一个 SSH 客户端，采用 Golang 开发。")]),s._v(" "),e("li",[s._v("Guacamole ：一个无客户端的远程桌面网关，由 Apache 开源。JMS 调用它来实现 RDP 功能。")]),s._v(" "),e("li",[s._v("Luna ：用于渲染、输出前端文件。")]),s._v(" "),e("li",[s._v("Nginx ：用于反向代理 Luna 。")]),s._v(" "),e("li",[s._v("MySQL")]),s._v(" "),e("li",[s._v("Redis")]),s._v(" "),e("li",[s._v("Celery")])]),s._v(" "),e("h2",{attrs:{id:"部署"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#部署"}},[s._v("#")]),s._v(" 部署")]),s._v(" "),e("p",[s._v("下载"),e("a",{attrs:{href:"https://github.com/jumpserver/installer",target:"_blank",rel:"noopener noreferrer"}},[s._v("官方脚本"),e("OutboundLink")],1),s._v("：")]),s._v(" "),e("div",{staticClass:"language-sh line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-sh"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[s._v("wget")]),s._v(" https://github.com/jumpserver/installer/releases/download/v2.9.1/jumpserver-installer-v2.9.1.tar.gz\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("p",[s._v("解压后执行：")]),s._v(" "),e("div",{staticClass:"language-sh line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-sh"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[s._v("sh")]),s._v(" jmsctl.sh\n              "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v("     "),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 安装，下载 Docker 镜像，并提示用户进行一些配置")]),s._v("\n              uninstall   "),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 卸载")]),s._v("\n              upgrade     "),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 升级")]),s._v("\n\n              start\n              stop\n              status\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br")])]),e("ul",[e("li",[s._v("部署时至少需要 4G 内存。")]),s._v(" "),e("li",[s._v("基于 docker-compose 启动。")])]),s._v(" "),e("h2",{attrs:{id:"配置"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#配置"}},[s._v("#")]),s._v(" 配置")]),s._v(" "),e("p",[s._v("配置文件位于 "),e("code",[s._v("jumpserver/config/config.txt")]),s._v(" 。部分内容示例：")]),s._v(" "),e("div",{staticClass:"language-sh line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-sh"}},[e("code",[e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("HTTP_PORT")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("8080")]),s._v("      "),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# HTTP 端口，供用户通过浏览器访问 JMS")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("HTTPS_PORT")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("8443")]),s._v("     "),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# HTTPS 端口")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("SSH_PORT")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("2222")]),s._v("       "),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# SSH 端口，供用户通过 SSH 客户端访问 JMS")]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br")])]),e("ul",[e("li",[s._v("默认账号、密码为 admin、admin 。")])]),s._v(" "),e("h2",{attrs:{id:"用法"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#用法"}},[s._v("#")]),s._v(" 用法")]),s._v(" "),e("p",[s._v("管理页面示例：")]),s._v(" "),e("p",[e("img",{attrs:{src:t(547),alt:"",loading:"lazy"}})]),s._v(" "),e("ul",[e("li",[s._v("用户管理：用于管理 JMS 网站本身的用户。用户登录 JMS 之后，才可以跳转登录一些服务器。")]),s._v(" "),e("li",[s._v("资产管理\n"),e("ul",[e("li",[s._v("资产列表：用于添加一些服务器作为资产，可以按树形结构分组。")]),s._v(" "),e("li",[s._v("网域列表：用于添加 SSH 代理，使得 JMS 可以连接到某个网络的服务器。")]),s._v(" "),e("li",[s._v("管理用户：指 JMS 通过 Ansible 批量登录服务器时采用的用户，获取硬件信息，还可以推送创建系统用户。")]),s._v(" "),e("li",[s._v("系统用户：指通过 Web 终端登录服务器时采用的用户。")])])]),s._v(" "),e("li",[s._v("权限管理：用于控制 JMS 用户对哪些资产拥有访问权限。\n"),e("ul",[e("li",[s._v("例如：\n"),e("ol",[e("li",[s._v("先添加一些服务器资产，分组节点为 “测试环境” 。并创建相应的管理用户、系统用户，都名为 “测试环境-管理员” 。")]),s._v(" "),e("li",[s._v("再创建一个名为 “测试环境-管理员” 的授权规则，将上述服务器的系统用户分配给某些 JMS 用户。")]),s._v(" "),e("li",[s._v("当 JMS 用户登录某个服务器时，如果有多个系统用户可用，则默认采用优先级最高的那个。如果优先级相同，则会弹出一个对话框供选择。")])])])])]),s._v(" "),e("li",[s._v("会话管理：\n"),e("ul",[e("li",[s._v("会话管理：用于管理用户打开的 Web 终端，支持终断、实时监控、回放。\n"),e("ul",[e("li",[s._v("会实时监控用户输入的每个字符，包括 Enter、Backspace、Ctrl+C 。")]),s._v(" "),e("li",[s._v("连命令的终端输出也会监控。")])])]),s._v(" "),e("li",[s._v("命令记录：用于记录用户在 Web 终端执行过的命令。\n"),e("ul",[e("li",[s._v("不适合实时监控，存在一条命令的滞后。")]),s._v(" "),e("li",[s._v("只会记录用户执行过的命令，不会记录用户输入的 Enter、Backspace、Ctrl+C 。")]),s._v(" "),e("li",[s._v("记录命令的终端输出时，最多记录十几行。")])])])])])]),s._v(" "),e("p",[s._v("Web 终端示例：")]),s._v(" "),e("p",[e("img",{attrs:{src:t(548),alt:"",loading:"lazy"}})])])}),[],!1,null,null,null);a.default=r.exports}}]);