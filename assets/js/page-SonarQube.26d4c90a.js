(window.webpackJsonp=window.webpackJsonp||[]).push([[161],{552:function(s,a,n){s.exports=n.p+"assets/img/sonarqube_1.a4a105c2.png"},553:function(s,a,n){s.exports=n.p+"assets/img/sonarqube_2.db280056.png"},676:function(s,a,n){"use strict";n.r(a);var t=n(1),e=Object(t.a)({},(function(){var s=this,a=s.$createElement,t=s._self._c||a;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h1",{attrs:{id:"sonarqube"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#sonarqube"}},[s._v("#")]),s._v(" SonarQube")]),s._v(" "),t("p",[s._v("：一个 Web 服务器，用于检查代码质量，采用 Java 开发。")]),s._v(" "),t("ul",[t("li",[t("a",{attrs:{href:"https://docs.sonarqube.org/latest/",target:"_blank",rel:"noopener noreferrer"}},[s._v("官方文档"),t("OutboundLink")],1)]),s._v(" "),t("li",[s._v("主要用于扫描静态代码，找出语法错误、漏洞、可优化之处。")]),s._v(" "),t("li",[s._v("支持扫描 C、C++、C#、Java、JavaScrip 等常见编程语言的代码。")]),s._v(" "),t("li",[s._v("采用 C/S 架构：\n"),t("ul",[t("li",[s._v("先运行一个 SonarQube 服务器。")]),s._v(" "),t("li",[s._v("然后执行一次 SonarScanner 扫描器，它会扫描代码，并上传到 SonarQube 服务器进行分析。")])])]),s._v(" "),t("li",[s._v("缺点：\n"),t("ul",[t("li",[s._v("扫描的规则较少，一些无关紧要的问题也会报错，一些语法错误却不会发现。")]),s._v(" "),t("li",[s._v("相同的问题会重复报错，导致报错很多。")])])])]),s._v(" "),t("h2",{attrs:{id:"部署"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#部署"}},[s._v("#")]),s._v(" 部署")]),s._v(" "),t("ol",[t("li",[t("p",[s._v("配置以下内核参数：")]),s._v(" "),t("div",{staticClass:"language-ini line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-ini"}},[t("code",[t("span",{pre:!0,attrs:{class:"token key attr-name"}},[s._v("sysctl vm.max_map_count")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token value attr-value"}},[s._v("262144")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token key attr-name"}},[s._v("sysctl fs.file-max")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token value attr-value"}},[s._v("65536")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])])]),s._v(" "),t("li",[t("p",[s._v("用 docker-compose 部署：")]),s._v(" "),t("div",{staticClass:"language-yml line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-yml"}},[t("code",[t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("version")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"3"')]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("services")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("sonarqube")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("image")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" sonarqube"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("8"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("community\n    "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("ports")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" 9000"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("9000")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("networks")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" net\n    "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("environment")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" sonar.jdbc.url=jdbc"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("postgresql"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("//postgres"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("5432/sonarqube\n      "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" sonar.jdbc.username=sonarqube\n      "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" sonar.jdbc.password="),t("span",{pre:!0,attrs:{class:"token important"}},[s._v("******")]),s._v("    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 密码")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("volumes")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" ./sonarqube/conf"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("/opt/sonarqube/conf\n      "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" ./sonarqube/data"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("/opt/sonarqube/data\n      "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" ./sonarqube/extensions"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("/opt/sonarqube/extensions\n      "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" ./sonarqube/logs"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("/opt/sonarqube/logs\n\n  "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("postgres")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("image")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" postgres"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("12")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("networks")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" net\n    "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("environment")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" POSTGRES_USER=sonarqube\n      "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" POSTGRES_PASSWORD="),t("span",{pre:!0,attrs:{class:"token important"}},[s._v("******")]),s._v("    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 密码")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" POSTGRES_DB=sonarqube\n    "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("volumes")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" ./postgres"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("/var/lib/postgresql/data\n\n"),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("networks")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("net")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br"),t("span",{staticClass:"line-number"},[s._v("20")]),t("br"),t("span",{staticClass:"line-number"},[s._v("21")]),t("br"),t("span",{staticClass:"line-number"},[s._v("22")]),t("br"),t("span",{staticClass:"line-number"},[s._v("23")]),t("br"),t("span",{staticClass:"line-number"},[s._v("24")]),t("br"),t("span",{staticClass:"line-number"},[s._v("25")]),t("br"),t("span",{staticClass:"line-number"},[s._v("26")]),t("br"),t("span",{staticClass:"line-number"},[s._v("27")]),t("br"),t("span",{staticClass:"line-number"},[s._v("28")]),t("br"),t("span",{staticClass:"line-number"},[s._v("29")]),t("br"),t("span",{staticClass:"line-number"},[s._v("30")]),t("br"),t("span",{staticClass:"line-number"},[s._v("31")]),t("br"),t("span",{staticClass:"line-number"},[s._v("32")]),t("br")])]),t("ul",[t("li",[s._v("默认用户名、密码为 admin、admin 。")]),s._v(" "),t("li",[s._v("SonarQube 支持的外部数据库包括：Oracle、PostgreSQL、SQL Server 。如果不配置外部数据库，则默认会使用内置数据库，但不方便迁移数据、不支持版本更新。")])])])]),s._v(" "),t("h2",{attrs:{id:"用法"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#用法"}},[s._v("#")]),s._v(" 用法")]),s._v(" "),t("p",[s._v("初次运行时的配置：")]),s._v(" "),t("ol",[t("li",[s._v("进入 Administration -> Security 页面，修改 admin 用户的密码，并取消 Anyone 用户组可以访问 SonarQube 。")]),s._v(" "),t("li",[s._v('进入 Administration -> Configuration -> Security 页面，勾选 "强制用户认证" ，从而禁止匿名用户访问。')]),s._v(" "),t("li",[s._v('进入 "配置（Administration）" -> "应用市场（Marketplace）" 页面，下载有用的插件。\n'),t("ul",[t("li",[s._v('比如 "Chinese Pack" 插件可以汉化页面。')]),s._v(" "),t("li",[s._v("下载插件之后，网页会提示需要重启服务器才能安装。")])])])]),s._v(" "),t("p",[s._v("每个用户都可以在 SonarQube 首页看到所有项目。如下：")]),s._v(" "),t("p",[t("img",{attrs:{src:n(552),alt:"",loading:"lazy"}})]),s._v(" "),t("ul",[t("li",[s._v("每个项目都从 Bugs、漏洞、复审热点等多个方面进行了评分。")]),s._v(" "),t("li",[s._v("SonarQube 会根据 “质量阀” 判断项目是否 “正常” 。")])]),s._v(" "),t("p",[s._v("点击项目的名字即可进入其详情页面，如下：")]),s._v(" "),t("p",[t("img",{attrs:{src:n(553),alt:"",loading:"lazy"}})]),s._v(" "),t("ul",[t("li",[s._v("在 “问题” 页面可以处理 Bugs、漏洞、异味，可以将它们的状态改为 “解决” 或 “标记为不会修复” 。\n"),t("ul",[t("li",[s._v("如果关闭了所有严重的问题（允许存在次要问题），相关的评分就会变成 A 。")])])]),s._v(" "),t("li",[s._v("在 “安全热点” 页面可以处理安全问题，可以将它们的状态改为 “已修复” 或 “安全”。\n"),t("ul",[t("li",[s._v("如果关闭了所有的安全问题，项目的 “安全复审比率” 就会变成 100% ，评分为 A 。")])])])]),s._v(" "),t("h2",{attrs:{id:"sonarscanner"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#sonarscanner"}},[s._v("#")]),s._v(" SonarScanner")]),s._v(" "),t("p",[s._v("基本用法：")]),s._v(" "),t("ol",[t("li",[s._v("从 "),t("a",{attrs:{href:"https://docs.sonarqube.org/latest/analysis/scan/sonarscanner/",target:"_blank",rel:"noopener noreferrer"}},[s._v("官网"),t("OutboundLink")],1),s._v(" 下载 SonarScanner 扫描器的发行版。")]),s._v(" "),t("li",[s._v("按以下格式执行："),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[s._v("./sonar-scanner "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n    -Dsonar.projectKey"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("test "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("                               "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# SonarQube 服务器上的项目名")]),s._v("\n    -Dsonar.projectBaseDir"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(". "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("                              "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 项目的根目录")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# -Dsonar.projectVersion=1.0 \\                          # 项目版本")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# -Dsonar.exclusions=dist \\                             # 不扫描这些目录")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# -Dsonar.sources=src,lib \\                             # 只扫描这些目录（必须在 projectBaseDir 之下）")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# -Dsonar.sourceEncoding=UTF-8 \\                        # 源文件的编码格式")]),s._v("\n    -Dsonar.host.url"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("http://10.0.0.1:9000 "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("                 "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# SonarQube 服务器的 URL")]),s._v("\n    -Dsonar.login"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("31bbe4de2a8260ef2f427c6e318f05dbc8e92af6  "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# SonarQube 服务器上的用户密钥")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# -X                                                    # 显示 DEBUG 信息")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br")])]),t("ul",[t("li",[s._v("如果 SonarQube 服务器上不存在该项目，则会自动创建。")]),s._v(" "),t("li",[s._v("如果该项目的扫描结果没有通过质量阀（quality gate），则 sonar-scanner 命令的返回码为非 0 。")])])])]),s._v(" "),t("p",[s._v("如果项目包含 Java 代码：")]),s._v(" "),t("ul",[t("li",[s._v("不能直接扫描 .java 文件，需要先编译，再用 "),t("code",[s._v("-Dsonar.java.binaries=target")]),s._v(" 命令选项指明 .class 文件的位置，不过这样手动操作很麻烦。")]),s._v(" "),t("li",[s._v("使用 Maven 等构建工具时，可通过专用的 sonar-scanner 插件扫描，自动定位源文件和类文件。步骤如下：\n"),t("ol",[t("li",[s._v("安装 Maven 3.x ，并且它使用的 sonar-scanner 插件需要 JRE 11 。比如："),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" run -it --rm "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n    -v maven-repo:/root/.m2 "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n    -v "),t("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("$PWD")]),s._v(":/app "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n    --workdir /app "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n    maven:3.6-jdk-11 "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("bash")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br")])])]),s._v(" "),t("li",[s._v("进入项目目录，开始扫描："),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[s._v("mvn clean compile\nmvn sonar:sonar "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("                             "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 不必配置 sonar.projectKey ，因为它会根据 pom.xml 自动配置")]),s._v("\n    -Dsonar.host.url"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("http://10.0.0.1:9000 "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n    -Dsonar.login"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("31bbe4de2a8260ef2f427c6e318f05dbc8e92af6\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br")])])])])])]),s._v(" "),t("p",[s._v("在 Jenkins 上调用的步骤：")]),s._v(" "),t("ol",[t("li",[s._v('在 Jenkins 上安装 "SonarQube Scanner for Jenkins" 插件。')]),s._v(" "),t("li",[s._v('在 Jenkins 的 "Configure System" 页面配置 "SonarQube servers" ，在 "Global Tool Configuration" 页面配置 "SonarQube Scanner" 。')]),s._v(" "),t("li",[s._v("在 Pipeline 中按如下格式调用："),t("div",{staticClass:"language-groovy line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-groovy"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("stage")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'SonarQube analysis'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    steps"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("withSonarQubeEnv")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'SonarQube'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("   "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 输入已配置的 SonarQube 服务器的名称")]),s._v("\n            sh "),t("span",{pre:!0,attrs:{class:"token string gstring"}},[s._v('"""\n                /opt/sonar-scanner/bin/sonar-scanner \\\n                    -Dsonar.projectBaseDir=/root/django\n            """')]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br")])]),s._v("具体可参考官方教程："),t("a",{attrs:{href:"https://docs.sonarqube.org/latest/analysis/scan/sonarscanner-for-jenkins/",target:"_blank",rel:"noopener noreferrer"}},[s._v("SonarScanner for Jenkins"),t("OutboundLink")],1)])])])}),[],!1,null,null,null);a.default=e.exports}}]);