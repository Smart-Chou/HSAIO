(window.webpackJsonp=window.webpackJsonp||[]).push([[200],{802:function(s,a,t){"use strict";t.r(a);var n=t(1),e=Object(n.a)({},(function(){var s=this,a=s.$createElement,t=s._self._c||a;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h1",{attrs:{id:"♢-django"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#♢-django"}},[s._v("#")]),s._v(" ♢ Django")]),s._v(" "),t("p",[s._v("：Python 的第三方库，是一个大型的 Web 应用开发框架。")]),s._v(" "),t("ul",[t("li",[t("a",{attrs:{href:"https://docs.djangoproject.com/",target:"_blank",rel:"noopener noreferrer"}},[s._v("官方文档"),t("OutboundLink")],1)]),s._v(" "),t("li",[s._v("读音为 "),t("code",[s._v("/ˈdʒæŋɡoʊ/")])]),s._v(" "),t("li",[s._v("安装："),t("code",[s._v("pip install django")])]),s._v(" "),t("li",[s._v("提供了一个测试服务器，便于开发调试。")]),s._v(" "),t("li",[s._v("提供了一个管理页面，可以在 Web 页面显示数据表，进行增删改查。")])]),s._v(" "),t("h2",{attrs:{id:"版本"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#版本"}},[s._v("#")]),s._v(" 版本")]),s._v(" "),t("ul",[t("li",[s._v("v1.0 ：于 2008 年发布，采用 Python 2 开发。")]),s._v(" "),t("li",[s._v("v2.0 ：于 2017 年底发布，仅支持 Python 3 。")]),s._v(" "),t("li",[s._v("v3.0 ：于 2019 年底发布。\n"),t("ul",[t("li",[s._v("支持 ASGI 接口，从而允许异步请求。")])])])]),s._v(" "),t("h2",{attrs:{id:"框架"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#框架"}},[s._v("#")]),s._v(" 框架")]),s._v(" "),t("ul",[t("li",[s._v("一个 Django 项目中可以包含多个 Web 应用（application）。\n"),t("ul",[t("li",[s._v("每个 Web 应用用一个 Python 包表示，提供了一些 URL 供用户访问。")]),s._v(" "),t("li",[s._v("每个 Web 应用默认是独立工作，也可以相互调用。")])])]),s._v(" "),t("li",[s._v("每个 Web 应用采用 MVC 设计模式。\n"),t("ul",[t("li",[s._v("在 models.py 中定义数据表模型。\n"),t("ul",[t("li",[s._v("用于在 MySQL 等数据库中创建数据表，供该 Web 应用存储数据。")]),s._v(" "),t("li",[s._v("虽然用户可以用 Python 直接连接数据库进行操作，但 Django 推荐定义数据表模型，以对象关系映射（ORM）的方式操作数据库，以提高效率。")])])]),s._v(" "),t("li",[s._v("在 views.py 中定义每个 URL 显示的视图。\n"),t("ul",[t("li",[s._v("比如定义一个视图函数，控制收到 HTTP 请求时如何返回 HTTP 响应。")])])]),s._v(" "),t("li",[s._v("在 urls.py 文件中定义 URL 的路由规则，即收到指向某个 URL 的 HTTP 请求时交给哪个视图函数处理。\n"),t("ul",[t("li",[s._v("准确来说，这里的 URL 是指不包含服务器地址的 URI 。")])])])])])]),s._v(" "),t("h2",{attrs:{id:"创建项目"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#创建项目"}},[s._v("#")]),s._v(" 创建项目")]),s._v(" "),t("ol",[t("li",[t("p",[s._v("安装 Django 之后，使用其自带的命令行工具创建一个新项目：")]),s._v(" "),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[s._v("django-admin startproject django_site\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("这会创建一个名为 django_site 的目录，目录结构如下：")]),s._v(" "),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[s._v("django_site             "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 项目的根目录，该目录的名称没有影响")]),s._v("\n├── django_site         "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 一个 Web 应用的目录，又称为 app 目录")]),s._v("\n│   ├── __init__.py\n│   ├── settings.py     "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 包含 Django 框架的配置")]),s._v("\n│   ├── urls.py         "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 包含 Django 项目的 URL 主路由规则")]),s._v("\n│   └── wsgi.py         "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 用于让其它 Web 服务器通过 WSGI 接口运行该 Django 项目")]),s._v("\n└── manage.py           "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 用于管理 Django 项目、启动测试服务器")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br")])]),t("ul",[t("li",[s._v("此时该项目中只包含一个主 Web 应用和一些基础的文件，使得该 Django 项目能够运行。")]),s._v(" "),t("li",[s._v("主 Web 应用，通常用于存放 Django 本身的配置文件，不包含业务代码。")])])]),s._v(" "),t("li",[t("p",[s._v("进入项目目录，创建一个新 Web 应用：")]),s._v(" "),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[s._v("python manage.py startapp app1\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("此时的目录结构示如下：")]),s._v(" "),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[s._v("django_site\n├── django_site\n│   ├── __init__.py\n│   ├── settings.py\n│   ├── urls.py\n│   └── wsgi.py\n├── app1                "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 另一个 app 目录")]),s._v("\n│   ├── __init__.py\n│   ├── admin.py        "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 可选，包含该 app 的 admin 页面的配置")]),s._v("\n│   ├── apps.py         "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 可选，包含该 app 在 Django 中的配置")]),s._v("\n│   ├── models.py\n│   ├── urls.py\n│   ├── test.py         "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 可选，包含测试用例")]),s._v("\n│   └── views.py\n└── manage.py           "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 用于管理 Django 项目")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br")])])]),s._v(" "),t("li",[t("p",[s._v("运行 Django 自带的测试服务器：")]),s._v(" "),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[s._v("python manage.py runserver "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v(".0.0:80\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("ul",[t("li",[s._v("该 server 会监听并接收源 IP 为任意、目标端口为 80 的 TCP 包，在浏览器中输入 "),t("code",[s._v("127.0.0.1:80")]),s._v(" 即可访问该 server 。")]),s._v(" "),t("li",[s._v("运行测试服务器时，如果修改了 Django 调用的任何 Python 源文件，测试服务器会自动发现并重启。")])])])]),s._v(" "),t("h2",{attrs:{id:"管理项目"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#管理项目"}},[s._v("#")]),s._v(" 管理项目")]),s._v(" "),t("p",[s._v("manage.py 脚本提供了一些管理 Django 项目的功能：")]),s._v(" "),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[s._v("python manage.py\n                startapp "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("app_name"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("   "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 创建一个 Web 应用")]),s._v("\n                shell                 "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 打开 Django 环境下的 Python 解释器")]),s._v("\n\n                dbshell               "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 打开连接数据库的客户端")]),s._v("\n                makemigrations        "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 检查 Model 的变化，生成迁移文件")]),s._v("\n                    "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("app_name"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v(".     "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 只检查指定应用")]),s._v("\n                migrate               "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 根据迁移文件修改数据库")]),s._v("\n                flush                 "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 清空数据库中存储的数据，只保留数据表的结构")]),s._v("\n\n                check                 "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 检查项目是否存在一些常见问题")]),s._v("\n                "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("test")]),s._v("                  "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 执行所有 tests*.py 文件中的测试用例")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br")])]),t("ul",[t("li",[s._v("Django 会在每个应用目录之下创建 migrations 目录，每次执行 makemigrations 都会生成一个新的迁移文件来修改数据库，记录增量修改的历史。\n"),t("ul",[t("li",[s._v("建议将 migrations 目录保存到 git 仓库中。")])])])]),s._v(" "),t("h2",{attrs:{id:"配置项目"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#配置项目"}},[s._v("#")]),s._v(" 配置项目")]),s._v(" "),t("p",[s._v("setting.py 文件包含了 Django 框架的配置（与业务代码无关），如下：")]),s._v(" "),t("div",{staticClass:"language-py line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-py"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" os\n\n\nBASE_DIR "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" os"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("path"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("dirname"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("os"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("path"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("dirname"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("os"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("path"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("abspath"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("__file__"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 该 Django 项目的根目录（绝对路径）")]),s._v("\nSECRET_KEY "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'yN2bbFQmn9etInrrP7bWTBhHZ74WGhokCWpc5a0EZ9g7tV7WNO'")]),s._v("         "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 用于加密签名，应该使用一个较长的随机值并保密")]),s._v("\n\nDEBUG "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("True")]),s._v("            "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 是否开启调试模式")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 调试模式下，当 Django 抛出异常时会在 Web 页面显示详细的调试信息")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 不应该在正式环境开启调试模式，否则会泄露服务器的配置、源代码")]),s._v("\n\nALLOWED_HOSTS "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'*'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("   "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 限制 HTTP 请求头部中的 Host 字段，如果不匹配则返回 HTTP 400 响应，用于避免 CSRF 攻击。例如：['*.test.com', 'localhost']")]),s._v("\n\nINSTALLED_APPS "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("                 "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 声明启用的 Web 应用")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'django.contrib.admin'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("        "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 用于显示管理页面")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'django.contrib.auth'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("         "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 用于用户的身份认证")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'django.contrib.contenttypes'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 启用 contenttypes 框架")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'django.contrib.sessions'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("     "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 用于创建 session")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'django.contrib.messages'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("     "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 启用消息框架，用于在浏览器中显示提示信息")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'django.contrib.staticfiles'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("  "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 用于管理静态文件")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'app1.apps.App1Config'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("        "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 启用一个自定义的 Web 应用")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 这里的路径不是文件的绝对路径，而是 Python 包的导入路径")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Django 会将 BASE_DIR 加入 Python 的 sys.path 中，因此可以直接通过包名导入 Web 应用，比如 import app1")]),s._v("\n\n\nMIDDLEWARE "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("                      "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 声明启用的中间件")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'django.middleware.security.SecurityMiddleware'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'django.contrib.sessions.middleware.SessionMiddleware'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'django.middleware.common.CommonMiddleware'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'django.middleware.csrf.CsrfViewMiddleware'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'django.contrib.auth.middleware.AuthenticationMiddleware'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'django.contrib.messages.middleware.MessageMiddleware'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'django.middleware.clickjacking.XFrameOptionsMiddleware'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n\nAUTH_PASSWORD_VALIDATORS "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("        "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 用于验证用户密码的强度")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'NAME'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'django.contrib.auth.password_validation.UserAttributeSimilarityValidator'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'NAME'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'django.contrib.auth.password_validation.MinimumLengthValidator'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'NAME'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'django.contrib.auth.password_validation.CommonPasswordValidator'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'NAME'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'django.contrib.auth.password_validation.NumericPasswordValidator'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n\n\nDATABASES "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("                                           "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 配置使用的数据库")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'default'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("                                        "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 至少要定义一个 default 数据库，默认使用它")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'ENGINE'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'django.db.backends.sqlite3'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("         "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 选择数据库引擎，这里是 SQLite")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'NAME'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" os"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("path"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("join"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("BASE_DIR"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'db.sqlite3'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("   "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# SQLite 数据库文件的保存路径")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'mysql'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'ENGINE'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'django.db.backends.mysql'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("           "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 采用 MySQL 数据库引擎")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'NAME'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'db1'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'USER'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'root'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'PASSWORD'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'******'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'HOST'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'10.0.0.1'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'PORT'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'3306'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'OPTIONS'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("                                    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 连接数据库时的参数")]),s._v("\n            "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'init_command'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("\"SET sql_mode='STRICT_TRANS_TABLES', innodb_strict_mode=1\"")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n            "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'charset'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'utf8mb4'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\nROOT_URLPATTERN  "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'django_site.urls'")]),s._v("             "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 主 urls.py 的路径，它是所有路由规则的起点，由它调用其它 Web 应用的 urls.py")]),s._v("\nWSGI_APPLICATION "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'django_site.wsgi.application'")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# wsgi 应用的路径")]),s._v("\n\nLANGUAGE_CODE    "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'zh-hans'")]),s._v("        "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 设置语言")]),s._v("\nTIME_ZONE        "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'Asia/Shanghai'")]),s._v("  "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 设置时区")]),s._v("\nUSE_I18N         "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("True")]),s._v("             "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 是否自动翻译前端的一些单词")]),s._v("\nUSE_L10N         "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("True")]),s._v("             "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 是否按本地格式显示日期时间")]),s._v("\nUSE_TZ           "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("True")]),s._v("             "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 在 Django 内部按 UTC 时区处理时间，输出到视图或终端时才自动转换成本地时区")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Django 基于 Python 的标准库 logging 记录日志，用户可以自定义日志器，覆盖默认的日志配置")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" logging\nLOGGING "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("                   "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 配置日志器，略")]),s._v("\nlogging"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("config"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("dictConfig"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("LOGGING"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\nlogger "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" logging"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("getLogger"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'django'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br"),t("span",{staticClass:"line-number"},[s._v("20")]),t("br"),t("span",{staticClass:"line-number"},[s._v("21")]),t("br"),t("span",{staticClass:"line-number"},[s._v("22")]),t("br"),t("span",{staticClass:"line-number"},[s._v("23")]),t("br"),t("span",{staticClass:"line-number"},[s._v("24")]),t("br"),t("span",{staticClass:"line-number"},[s._v("25")]),t("br"),t("span",{staticClass:"line-number"},[s._v("26")]),t("br"),t("span",{staticClass:"line-number"},[s._v("27")]),t("br"),t("span",{staticClass:"line-number"},[s._v("28")]),t("br"),t("span",{staticClass:"line-number"},[s._v("29")]),t("br"),t("span",{staticClass:"line-number"},[s._v("30")]),t("br"),t("span",{staticClass:"line-number"},[s._v("31")]),t("br"),t("span",{staticClass:"line-number"},[s._v("32")]),t("br"),t("span",{staticClass:"line-number"},[s._v("33")]),t("br"),t("span",{staticClass:"line-number"},[s._v("34")]),t("br"),t("span",{staticClass:"line-number"},[s._v("35")]),t("br"),t("span",{staticClass:"line-number"},[s._v("36")]),t("br"),t("span",{staticClass:"line-number"},[s._v("37")]),t("br"),t("span",{staticClass:"line-number"},[s._v("38")]),t("br"),t("span",{staticClass:"line-number"},[s._v("39")]),t("br"),t("span",{staticClass:"line-number"},[s._v("40")]),t("br"),t("span",{staticClass:"line-number"},[s._v("41")]),t("br"),t("span",{staticClass:"line-number"},[s._v("42")]),t("br"),t("span",{staticClass:"line-number"},[s._v("43")]),t("br"),t("span",{staticClass:"line-number"},[s._v("44")]),t("br"),t("span",{staticClass:"line-number"},[s._v("45")]),t("br"),t("span",{staticClass:"line-number"},[s._v("46")]),t("br"),t("span",{staticClass:"line-number"},[s._v("47")]),t("br"),t("span",{staticClass:"line-number"},[s._v("48")]),t("br"),t("span",{staticClass:"line-number"},[s._v("49")]),t("br"),t("span",{staticClass:"line-number"},[s._v("50")]),t("br"),t("span",{staticClass:"line-number"},[s._v("51")]),t("br"),t("span",{staticClass:"line-number"},[s._v("52")]),t("br"),t("span",{staticClass:"line-number"},[s._v("53")]),t("br"),t("span",{staticClass:"line-number"},[s._v("54")]),t("br"),t("span",{staticClass:"line-number"},[s._v("55")]),t("br"),t("span",{staticClass:"line-number"},[s._v("56")]),t("br"),t("span",{staticClass:"line-number"},[s._v("57")]),t("br"),t("span",{staticClass:"line-number"},[s._v("58")]),t("br"),t("span",{staticClass:"line-number"},[s._v("59")]),t("br"),t("span",{staticClass:"line-number"},[s._v("60")]),t("br"),t("span",{staticClass:"line-number"},[s._v("61")]),t("br"),t("span",{staticClass:"line-number"},[s._v("62")]),t("br"),t("span",{staticClass:"line-number"},[s._v("63")]),t("br"),t("span",{staticClass:"line-number"},[s._v("64")]),t("br"),t("span",{staticClass:"line-number"},[s._v("65")]),t("br"),t("span",{staticClass:"line-number"},[s._v("66")]),t("br"),t("span",{staticClass:"line-number"},[s._v("67")]),t("br"),t("span",{staticClass:"line-number"},[s._v("68")]),t("br"),t("span",{staticClass:"line-number"},[s._v("69")]),t("br"),t("span",{staticClass:"line-number"},[s._v("70")]),t("br"),t("span",{staticClass:"line-number"},[s._v("71")]),t("br"),t("span",{staticClass:"line-number"},[s._v("72")]),t("br"),t("span",{staticClass:"line-number"},[s._v("73")]),t("br"),t("span",{staticClass:"line-number"},[s._v("74")]),t("br"),t("span",{staticClass:"line-number"},[s._v("75")]),t("br"),t("span",{staticClass:"line-number"},[s._v("76")]),t("br"),t("span",{staticClass:"line-number"},[s._v("77")]),t("br"),t("span",{staticClass:"line-number"},[s._v("78")]),t("br"),t("span",{staticClass:"line-number"},[s._v("79")]),t("br"),t("span",{staticClass:"line-number"},[s._v("80")]),t("br"),t("span",{staticClass:"line-number"},[s._v("81")]),t("br"),t("span",{staticClass:"line-number"},[s._v("82")]),t("br"),t("span",{staticClass:"line-number"},[s._v("83")]),t("br"),t("span",{staticClass:"line-number"},[s._v("84")]),t("br")])]),t("p",[s._v("每个 Web 应用的 apps.py 文件包含了其配置，如下：")]),s._v(" "),t("div",{staticClass:"language-py line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-py"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" django"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("apps "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" AppConfig\n\n\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("App1Config")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("AppConfig"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    name "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'app1'")]),s._v("                "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 该应用的目录名")]),s._v("\n    verbose_name "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'应用一'")]),s._v("       "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 显示的名称")]),s._v("\n\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br")])])])}),[],!1,null,null,null);a.default=e.exports}}]);