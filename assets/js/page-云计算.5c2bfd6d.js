(window.webpackJsonp=window.webpackJsonp||[]).push([[63],{559:function(v,_,l){v.exports=l.p+"assets/img/frame.533115ce.jpg"},659:function(v,_,l){"use strict";l.r(_);var a=l(1),i=Object(a.a)({},(function(){var v=this,_=v.$createElement,a=v._self._c||_;return a("ContentSlotsDistributor",{attrs:{"slot-key":v.$parent.slotKey}},[a("h1",{attrs:{id:"云计算"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#云计算"}},[v._v("#")]),v._v(" 云计算")]),v._v(" "),a("ul",[a("li",[v._v("在传统模式下，用户想部署一个 Web 网站时，需要自己购买服务器裸机，然后安装操作系统、Web 服务器、依赖软件。")]),v._v(" "),a("li",[v._v("在云计算时代，用户可以直接使用云服务商提供的 Web、数据库等服务器，省掉一些亲自动手的工作量。")])]),v._v(" "),a("h2",{attrs:{id:"服务模式"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#服务模式"}},[v._v("#")]),v._v(" 服务模式")]),v._v(" "),a("p",[v._v("云计算的服务模式包括：")]),v._v(" "),a("ul",[a("li",[v._v("IaaS ：基础设施即服务（Infrastructure as a Service），云端提供一些基础设施供用户使用，比如服务器裸机。")]),v._v(" "),a("li",[v._v("Paas ：平台即服务（Platform as a Service），云端提供平台资源供用户使用，比如 Linux 服务器、硬盘。")]),v._v(" "),a("li",[v._v("SaaS ：软件即服务（Software as a Service），云端提供一些软件供用户使用，比如给开发者提供已部署的 MySQL、Nginx ，给普通用户提供电商网站。")]),v._v(" "),a("li",[v._v("BaaS ：后端即服务（Backend as a Service），云端提供一些后端服务供用户使用，比如数据库、对象存储。")]),v._v(" "),a("li",[v._v("FaaS ：函数即服务（Function as a Service），云端支持直接运行用户编写的函数代码。\n"),a("ul",[a("li",[v._v("FaaS 将应用拆解成比微服务更小的单位，且具有无状态、即写即用等特点。")])])])]),v._v(" "),a("h2",{attrs:{id:"相关概念"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#相关概念"}},[v._v("#")]),v._v(" 相关概念")]),v._v(" "),a("ul",[a("li",[v._v("VPS（Virtual Private Servers，虚拟专用服务器）\n"),a("ul",[a("li",[v._v("：又称为虚拟机。可以在一台物理服务器上通过 Hypervisor 技术运行多个虚拟服务器，分配给多个用户私自使用。")])])]),v._v(" "),a("li",[v._v("CVM（Cloud Virtual Machine，云虚拟机）\n"),a("ul",[a("li",[v._v("：指云平台提供的 VPS 。")]),v._v(" "),a("li",[v._v("有的云平台将它称为 ECS（Elastic Compute Service ，弹性计算服务器）。")])])]),v._v(" "),a("li",[v._v("VPC（Virtual Private Cloud，虚拟私有云）\n"),a("ul",[a("li",[v._v("：云平台上一种小的逻辑分区，管理一组 VPS ，专门供某个用户或企业使用，像一个 Paas 层的私有云。")])])]),v._v(" "),a("li",[v._v("VDC（Virtual Data Center，虚拟数据中心）\n"),a("ul",[a("li",[v._v("：云平台上一种大的逻辑分区，管理一组 VPS、CPU、内存、硬盘等资源，像一个 IaaS 层的私有云。")])])]),v._v(" "),a("li",[v._v("OpenStack\n"),a("ul",[a("li",[v._v("：一个开源的云平台框架，采用 Python 开发，常用于搭建云平台并管理服务器等资源，提供 IaaS 服务。")])])]),v._v(" "),a("li",[v._v("云原生（Cloud Native）\n"),a("ul",[a("li",[v._v("：将软件的开发、测试、运维等过程都迁移到云平台上进行，充分利用云平台的优势。")])])]),v._v(" "),a("li",[v._v("Serverless\n"),a("ul",[a("li",[v._v("：一种设计模式，又称为无服务器架构。是让软件开发人员专注于代码开发，不必关注在服务器上如何构建、部署、运维。")]),v._v(" "),a("li",[v._v("云计算的 BaaS 和 FaaS 都属于 Serverless 。")]),v._v(" "),a("li",[v._v("例如微信小程序实现了 Serverless ，开发者写好代码之后就可以直接发布。")])])])]),v._v(" "),a("h2",{attrs:{id:"vpc-组网"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#vpc-组网"}},[v._v("#")]),v._v(" VPC 组网")]),v._v(" "),a("ul",[a("li",[v._v("一个 VPC 中包含的各个 VPS ，默认位于同一个局域网，可以使用内网 IP 相互通信。\n"),a("ul",[a("li",[v._v("不同 VPC 之间网络隔离，需要添加路由表才能相互通信。")]),v._v(" "),a("li",[v._v("一个 VPC 中还可以划分多个子网，但这些子网之间并没有网络隔离。")])])]),v._v(" "),a("li",[v._v("安全组：相当于防火墙规则，用于控制主机的出入流量。\n"),a("ul",[a("li",[v._v("主机的出入流量先受到主机上 firewalld 防火墙的控制，再受到云平台安全组的控制。")]),v._v(" "),a("li",[v._v("可以给一个或多个 VPS 绑定一个或多个安全组。")])])])]),v._v(" "),a("p",[v._v("VPC 内部的主机与外部通信的方法：")]),v._v(" "),a("ul",[a("li",[v._v("可以给 VPC 添加 NAT 网关，让 VPC 能与公网通信。此时网络包的流向为：VPC 主机 → NAT 网关 → 公网主机 。")]),v._v(" "),a("li",[v._v("可以给 VPC 添加 VPN ，让 VPC 能与本地网络通信。此时网络包的流向为：VPC 主机 → VPC 网关 → 公网中转 → VPN 服务器 → 公网中转 → 本地网关 → 本地主机 。")]),v._v(" "),a("li",[v._v('可以给 VPC 中的一个主机绑定外部某个网络的 IP ，使其能够与该网络的主机通信。这个 IP 在不用的时候可以解绑，因此称为 "弹性 IP" 。\n'),a("ul",[a("li",[v._v("例如，使用弹性公网 IP ，就可以让 VPC 中的主机与公网通信。")]),v._v(" "),a("li",[v._v("一个弹性 IP 只能让 VPC 中的一个主机与外部通信，而一个 NAT 网关可以让 VPC 中的所有主机与外部通信。")]),v._v(" "),a("li",[v._v("如果将一个弹性公网 IP 给 NAT 网关使用，就可以让 VPC 中的所有主机都能访问公网。")])])])]),v._v(" "),a("p",[v._v("下图是腾讯云的网络架构：")]),v._v(" "),a("p",[a("img",{attrs:{src:l(559),alt:"",loading:"lazy"}})]),v._v(" "),a("ul",[a("li",[v._v("CVM 部署在 region1 的 VPC 中，不具备公网 IP ，不能主动与公网通信，对外网不可见。")]),v._v(" "),a("li",[v._v("当公网中的主机主动访问集群时，要将请求发送到 LBS 的公网 IP 地址、80 端口。\n"),a("ul",[a("li",[v._v("LBS 会将从 80 端口收到的流量转发给 VPC 中的几个 CVM——将数据包的目的 IP、目的端口改为某台 CVM 的内网 IP、端口。CVM 收到该包之后，会把它转发到相应的容器端口。")]),v._v(" "),a("li",[v._v("当 CVM 处理完请求之后，会将回复的数据包通过 LBS 返回给公网的主机。")])])]),v._v(" "),a("li",[v._v("当 CVM 主动访问公网时，要将请求发送到 NAT 网关，由 NAT 网关进行代理。")]),v._v(" "),a("li",[v._v("当 CVM1 主动访问同一个 VPC 内的另一个 CVM2 时，需要先配置从 CVM1 到 CVM2 的路由表。")]),v._v(" "),a("li",[v._v('当 CVM1 主动访问另一个 VPC 内的 CVM 时，需要先通过 "对等连接" 功能将两个 VPC 的网络连通，然后配置两个 VPC 之间的路由表。')]),v._v(" "),a("li",[v._v("在腾讯云购买一个 VPS 之后，如果需要连通公网，有两种计费模式：\n"),a("ul",[a("li",[v._v("按带宽计费 ：限制公网出带宽的最大值，即 VPS 发向公网的流量。\n"),a("ul",[a("li",[v._v("公网入带宽与公网出带宽相等，但至少会分配 10 Mbps ，因为能共享机房的入带宽。")])])]),v._v(" "),a("li",[v._v("按流量计费 ：每隔一个小时，按实际使用的公网出流量计费。")])])])])])}),[],!1,null,null,null);_.default=i.exports}}]);