(window.webpackJsonp=window.webpackJsonp||[]).push([[273],{1047:function(a,s,n){"use strict";n.r(s);var t=n(1),e=Object(t.a)({},(function(){var a=this,s=a.$createElement,n=a._self._c||s;return n("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[n("p",[n("strong",[a._v("重要")]),a._v("：强烈建议在启用此功能之前激活 HTTPS，以避免可能的 MITM 攻击。")]),a._v(" "),n("p",[a._v("此页面允许服务器管理员查看所有注册用户并删除它们。它还允许邀请新用户，即使注册被禁用。")]),a._v(" "),n("p",[a._v("要启用管理页面，您需要设置身份验证令牌。这个令牌可以是任何东西，但建议使用长的、随机生成的字符串，例如运行"),n("code",[a._v("openssl rand -base64 48")]),a._v("。 "),n("strong",[a._v("将此令牌保密，这是访问服务器管理区域的密码！")])]),a._v(" "),n("p",[a._v("要设置令牌，请使用"),n("code",[a._v("ADMIN_TOKEN")]),a._v("变量：")]),a._v(" "),n("div",{staticClass:"language-sh line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-sh"}},[n("code",[n("span",{pre:!0,attrs:{class:"token function"}},[a._v("docker")]),a._v(" run -d --name bitwarden "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n  -e "),n("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("ADMIN_TOKEN")]),n("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("some_random_token_as_per_above_explanation "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n  -v /vw-data/:/data/ "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n  -p "),n("span",{pre:!0,attrs:{class:"token number"}},[a._v("80")]),a._v(":80 "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n  vaultwarden/server:latest\n")])]),a._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[a._v("1")]),n("br"),n("span",{staticClass:"line-number"},[a._v("2")]),n("br"),n("span",{staticClass:"line-number"},[a._v("3")]),n("br"),n("span",{staticClass:"line-number"},[a._v("4")]),n("br"),n("span",{staticClass:"line-number"},[a._v("5")]),n("br")])]),n("p",[a._v("之后，该页面将在"),n("code",[a._v("/admin")]),a._v(" 子目录中可用。")]),a._v(" "),n("p",[a._v("您第一次在管理页面中保存设置时，将在您的"),n("code",[a._v("DATA_FOLDER")]),a._v("中生成"),n("code",[a._v("config.json")]),a._v("。此文件中的值将优先于相应的环境变量。")]),a._v(" "),n("p",[a._v("请注意，在单击"),n("code",[a._v("保存")]),a._v("按钮之前，管理页面中的配置更改不会生效。例如，如果您正在测试 SMTP 设置，并且您更改了"),n("code",[a._v("SMTP 身份验证机制")]),a._v("设置，然后单击"),n("code",[a._v("发送测试电子邮件")]),a._v("来测试更改，这将不会按预期工作——因为您没有单击"),n("code",[a._v("保存")]),a._v(" "),n("code",[a._v("，")]),a._v("SMTP Auth 机制` 更改不会生效。")]),a._v(" "),n("p",[n("strong",[a._v("注意：")]),a._v(" 更改 "),n("code",[a._v("ADMIN_TOKEN")]),a._v(" 后，当前登录的管理员仍然可以使用他们的旧登录令牌 "),n("a",{attrs:{href:"https://github.com/dani-garcia/vaultwarden/blob/master/src/api/admin.rs#L87",target:"_blank",rel:"noopener noreferrer"}},[a._v("最多 20 分钟"),n("OutboundLink")],1),a._v("。")])])}),[],!1,null,null,null);s.default=e.exports}}]);