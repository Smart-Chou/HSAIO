(window.webpackJsonp=window.webpackJsonp||[]).push([[311],{944:function(s,t,a){"use strict";a.r(t);var e=a(1),r=Object(e.a)({},(function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h1",{attrs:{id:"批量内容导入器"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#批量内容导入器"}},[s._v("#")]),s._v(" 批量内容导入器")]),s._v(" "),a("p",[s._v("该工具允许通过解析文件系统位置的内容来"),a("strong",[s._v("批量导入")]),s._v("图像、相册和用户。当您想要导入大量内容时使用它，否则使用 API 或 Web gui 导入会很麻烦。")]),s._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[s._v("导入 != 同步")]),s._v(" "),a("p",[s._v("导入从导入路径中获取内容并将其"),a("em",[s._v("导入")]),s._v("到数据库、文件系统或外部存储中。失败的文件将被移动到一个特殊的目录 "),a("strong",[a("code",[s._v("./importing/failed/")])]),s._v("。")])]),s._v(" "),a("h2",{attrs:{id:"如何使用它"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#如何使用它"}},[s._v("#")]),s._v(" 如何使用它")]),s._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[s._v("演示导入")]),s._v(" "),a("p",[s._v("查看 "),a("a",{attrs:{href:"https://github.com/chevereto/demo-importing",target:"_blank",rel:"noopener noreferrer"}},[s._v("chevereto/demo-importing"),a("OutboundLink")],1),s._v(" 中的存储库，了解如何组织文件以使用批量内容导入器的示例。")])]),s._v(" "),a("p",[s._v("批量内容导入器通过扫描 "),a("code",[s._v("importing/")]),s._v(" 路径工作，其中文件夹用于表示其中包含的文件的给定解析格式。")]),s._v(" "),a("p",[s._v("按照 "),a("a",{attrs:{href:"#%E8%A7%A3%E6%9E%90%E6%A0%BC%E5%BC%8F"}},[s._v("解析格式")]),s._v(" 约定将内容放置在这些目录中，可以将图像导入到作为文件夹创建的用户、添加类别等。")]),s._v(" "),a("table",[a("thead",[a("tr",[a("th",[a("code",[s._v("./importing/")])]),s._v(" "),a("th",[s._v("解析")])])]),s._v(" "),a("tbody",[a("tr",[a("td",[a("code",[s._v("parse-users/")])]),s._v(" "),a("td",[a("a",{attrs:{href:"#%E9%A1%B6%E7%BA%A7%E6%96%87%E4%BB%B6%E5%A4%B9%E4%BD%9C%E4%B8%BA%E7%94%A8%E6%88%B7%E5%90%8D"}},[s._v("顶级文件夹作为用户名")])])]),s._v(" "),a("tr",[a("td",[a("code",[s._v("parse-albums/")])]),s._v(" "),a("td",[a("a",{attrs:{href:"#%E9%A1%B6%E7%BA%A7%E6%96%87%E4%BB%B6%E5%A4%B9%E4%BD%9C%E4%B8%BA%E7%9B%B8%E5%86%8C"}},[s._v("顶级文件夹作为相册")])])]),s._v(" "),a("tr",[a("td",[a("code",[s._v("no-parse/")])]),s._v(" "),a("td",[a("a",{attrs:{href:"#%E4%B8%8D%E8%A7%A3%E6%9E%90%E6%96%87%E4%BB%B6%E5%A4%B9"}},[s._v("不解析文件夹")])])])])]),s._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[s._v("提示")]),s._v(" "),a("p",[s._v("转到"),a("code",[s._v("仪表板/批量")]),s._v("以查看导入作业。")])]),s._v(" "),a("h3",{attrs:{id:"字符集"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#字符集"}},[s._v("#")]),s._v(" 字符集")]),s._v(" "),a("p",[s._v("文件和 "),a("code",[s._v(".json")]),s._v(" 元数据必须是 UTF-8。")]),s._v(" "),a("h3",{attrs:{id:"命令"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#命令"}},[s._v("#")]),s._v(" 命令")]),s._v(" "),a("CodeGroup",[a("CodeGroupItem",{attrs:{title:"V3.20+"}},[a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" -u www-data php /var/www/html/cli.php -C importing\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])])]),s._v(" "),a("CodeGroupItem",{attrs:{title:"Older"}},[a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" -u www-data "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("IS_CRON")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("THREAD_ID")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" php importing.php\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])])])],1),s._v(" "),a("h3",{attrs:{id:"cron-条目"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#cron-条目"}},[s._v("#")]),s._v(" Cron 条目")]),s._v(" "),a("p",[s._v("可以使用 "),a("a",{attrs:{href:"https://en.wikipedia.org/wiki/Cron",target:"_blank",rel:"noopener noreferrer"}},[s._v("cron"),a("OutboundLink")],1),s._v(" 自动调度导入命令：")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[s._v("* * * * * COMMAND_HERE "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("/dev/null "),a("span",{pre:!0,attrs:{class:"token operator"}},[a("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[s._v("2")]),s._v(">")]),a("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[s._v("&1")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h3",{attrs:{id:"线程"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#线程"}},[s._v("#")]),s._v(" 线程")]),s._v(" "),a("p",[s._v("您可以通过为"),a("code",[s._v("THREAD_ID")]),s._v("传递不同的"),a("code",[s._v("env")]),s._v("，在多个线程中运行导入来加快进程。")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" -u www-data "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("THREAD_ID")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" php cli.php -C importing\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" -u www-data "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("THREAD_ID")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(" php cli.php -C importing\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("h3",{attrs:{id:"文件锁定"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#文件锁定"}},[s._v("#")]),s._v(" 文件锁定")]),s._v(" "),a("p",[s._v("导入过程可以通过在"),a("code",[s._v("./importing/.lock")]),s._v(" 放置一个空的锁文件来锁定。")]),s._v(" "),a("p",[s._v("在删除此文件之前，不会进行该过程。当您想要导入大型数据集并且关心嵌套文件夹结构时，这会很方便。")]),s._v(" "),a("h2",{attrs:{id:"解析格式"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#解析格式"}},[s._v("#")]),s._v(" 解析格式")]),s._v(" "),a("p",[s._v("批量导入器扫描目标导入目录并相应地创建如下所述的解析规则的内容。用户资产(头像、背景图片)将上传到系统用户文件夹。")]),s._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[s._v("提示")]),s._v(" "),a("p",[s._v("解析器仅在用户和相册不存在时才创建这些用户和相册。它检测"),a("code",[s._v("username")]),s._v(" 是否存在，并且对相册执行相同的操作(基于相册名称 + 其所有者)。")])]),s._v(" "),a("h3",{attrs:{id:"顶级文件夹作为用户名"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#顶级文件夹作为用户名"}},[s._v("#")]),s._v(" 顶级文件夹作为用户名")]),s._v(" "),a("p",[s._v("导入路径中的顶级文件夹将作为"),a("code",[s._v("username")]),s._v("处理。二级文件夹将被解析为"),a("code",[s._v("album name")]),s._v("。")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("./"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("path"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n└── rodolfo "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("- username\n    ├── weapons "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("- album name\n    │   ├── machine-gun.jpg\n    │   └── rocket-launcher.jpg\n    └── logo-alt.png\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br")])]),a("p",[s._v("对于上面的树，解析器将：")]),s._v(" "),a("ul",[a("li",[s._v("创建 "),a("code",[s._v("rodolfo")]),s._v(" 用户(如果用户不存在)")]),s._v(" "),a("li",[s._v("在"),a("code",[s._v("rodolfo")]),s._v(" 用户下创建相册"),a("code",[s._v("weapons")]),s._v("(如果相册不存在)")]),s._v(" "),a("li",[s._v("将"),a("code",[s._v("./<path>/rodolfo/weapons")]),s._v(" 中包含的图片上传到 rodolfo 的"),a("code",[s._v("weapons")]),s._v(" 相册")]),s._v(" "),a("li",[s._v("上传"),a("code",[s._v("logo-alt.png")]),s._v(" 到"),a("code",[s._v("rodolfo")]),s._v("(无专辑)")])]),s._v(" "),a("h3",{attrs:{id:"顶级文件夹作为相册"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#顶级文件夹作为相册"}},[s._v("#")]),s._v(" 顶级文件夹作为相册")]),s._v(" "),a("p",[s._v("导入路径中的顶级文件夹将作为"),a("code",[s._v("album_name")]),s._v(" 处理。")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("./"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("path"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n└── weapons "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("- album name\n    ├── machine-gun.jpg\n    ├── rocket-launcher.jpg\n    └── logo-alt.png\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])]),a("p",[s._v("对于上面的树，解析器将：")]),s._v(" "),a("ul",[a("li",[s._v("以访客用户身份创建相册"),a("code",[s._v("weapons")]),s._v("(如果相册不存在)")]),s._v(" "),a("li",[s._v("将"),a("code",[s._v("./<path>/weapons")]),s._v(" 中包含的图片上传到"),a("code",[s._v("weapons")]),s._v(" 相册")])]),s._v(" "),a("h3",{attrs:{id:"不解析文件夹"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#不解析文件夹"}},[s._v("#")]),s._v(" 不解析文件夹")]),s._v(" "),a("p",[s._v("没有文件夹被解析，只有图像将作为来宾导入。")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("./"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("path"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n├── machine-gun.jpg\n├── rocket-launcher.jpg\n└── logo-alt.png\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])]),a("p",[s._v("对于上面的树，解析器将：")]),s._v(" "),a("ul",[a("li",[s._v("将包含在"),a("code",[s._v("./<path>")]),s._v(" 中的图像以访客用户身份上传到公众。")])]),s._v(" "),a("h2",{attrs:{id:"状态"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#状态"}},[s._v("#")]),s._v(" 状态")]),s._v(" "),a("p",[s._v("导入作业状态定义如下：")]),s._v(" "),a("table",[a("thead",[a("tr",[a("th",[s._v("状态")]),s._v(" "),a("th",[s._v("说明")])])]),s._v(" "),a("tbody",[a("tr",[a("td",[s._v("Queued")]),s._v(" "),a("td",[s._v("作业在处理队列中(默认状态)")])]),s._v(" "),a("tr",[a("td",[s._v("Working")]),s._v(" "),a("td",[s._v("正在解析作业")])]),s._v(" "),a("tr",[a("td",[s._v("Paused")]),s._v(" "),a("td",[s._v("作业已暂停")])]),s._v(" "),a("tr",[a("td",[s._v("Canceled")]),s._v(" "),a("td",[s._v("作业被用户中止")])]),s._v(" "),a("tr",[a("td",[s._v("Completed")]),s._v(" "),a("td",[s._v("作业已完成(所有内容都已解析)")])])])]),s._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[s._v("提示")]),s._v(" "),a("p",[s._v('当没有其他东西要解析时，导入可能会显示"completed"，但在内部它会自动重新排队。')])]),s._v(" "),a("h2",{attrs:{id:"元数据"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#元数据"}},[s._v("#")]),s._v(" 元数据")]),s._v(" "),a("p",[s._v("批量导入器支持使用 JSON 格式的元数据，与 "),a("a",{attrs:{href:"#%E4%BB%8E%E8%B0%B7%E6%AD%8C%E7%85%A7%E7%89%87%E5%AF%BC%E5%85%A5"}},[s._v("Google 相册")]),s._v(" 相同。必须按内容提供元数据，这意味着您必须为每个内容使用一个元数据文件。")]),s._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[s._v("UTF-8")]),s._v(" "),a("p",[s._v("元数据必须采用 UTF-8 格式。不要忘记修复您的字符集。")])]),s._v(" "),a("table",[a("thead",[a("tr",[a("th",[s._v("内容")]),s._v(" "),a("th",[s._v("类型")]),s._v(" "),a("th",[s._v("元数据文件")])])]),s._v(" "),a("tbody",[a("tr",[a("td",[a("code",[s._v("rodolfo/")])]),s._v(" "),a("td",[s._v("username")]),s._v(" "),a("td",[a("code",[s._v("rodolfo/metadata.json")])])]),s._v(" "),a("tr",[a("td",[a("code",[s._v("rodolfo/weapons/")])]),s._v(" "),a("td",[s._v("album")]),s._v(" "),a("td",[a("code",[s._v("rodolfo/weapons/metadata.json")])])]),s._v(" "),a("tr",[a("td",[a("code",[s._v("rodolfo/weapons/machine-gun.jpg")])]),s._v(" "),a("td",[s._v("image")]),s._v(" "),a("td",[a("code",[s._v("rodolfo/weapons/machine-gun.json")])])]),s._v(" "),a("tr",[a("td",[a("code",[s._v("rodolfo/weapons/rocket-launcher.jpg")])]),s._v(" "),a("td",[s._v("image")]),s._v(" "),a("td",[a("code",[s._v("rodolfo/weapons/rocket-launcher.json")])])]),s._v(" "),a("tr",[a("td",[a("code",[s._v("rodolfo/logo-alt.png")])]),s._v(" "),a("td",[s._v("image")]),s._v(" "),a("td",[a("code",[s._v("rodolfo/logo-alt.json")])])])])]),s._v(" "),a("p",[s._v("下面的树显示了上表的元数据。")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("./"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("path"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n└── rodolfo\n    ├── weapons\n    │   ├── machine-gun.jpg\n    │   ├── machine-gun.json\n    │   ├── rocket-launcher.jpg\n    │   ├── rocket-launcher.json\n    │   └── metadata.json\n    ├── logo-alt.png\n    ├── logo-alt.json\n    └── metadata.json\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br")])]),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[s._v("注意")]),s._v(" "),a("p",[s._v("元数据属性合并了正在解析的内容，这意味着您不需要明确指出所有属性，只需要描述您需要描述的内容。")])]),s._v(" "),a("h3",{attrs:{id:"图像元数据"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#图像元数据"}},[s._v("#")]),s._v(" 图像元数据")]),s._v(" "),a("p",[s._v("下面的 JSON 元数据文件提供了"),a("code",[s._v("machine-gun.jpg")]),s._v("的示例元数据。")]),s._v(" "),a("div",{staticClass:"language-json line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"imageData"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"title"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Machine gun"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"description"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Say hello to my little friend!"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"nsfw"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("false")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"category"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"name"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Guns"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"urlKey"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Guns"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"description"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Guns don\'t kill people, sugar does."')]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br")])]),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[s._v("图片类别")]),s._v(" "),a("p",[s._v("只要您同时提供 "),a("code",[s._v("name")]),s._v(" 和 "),a("code",[s._v("urlKey")]),s._v("，就会根据需要创建图像类别。")])]),s._v(" "),a("h3",{attrs:{id:"专辑元数据"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#专辑元数据"}},[s._v("#")]),s._v(" 专辑元数据")]),s._v(" "),a("p",[s._v("下面的 JSON 元数据文件提供了 "),a("code",[s._v("guns/")]),s._v(" 专辑的示例元数据。")]),s._v(" "),a("div",{staticClass:"language-json line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"albumData"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"title"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Guns"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"description"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Guns should be banned."')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"access"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"private"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"privacy"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"type"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"password"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"password"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"12345"')]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br")])]),a("p",[s._v("对于专辑隐私，您可以选择：")]),s._v(" "),a("table",[a("thead",[a("tr",[a("th",[s._v("隐私类型")]),s._v(" "),a("th",[s._v("效果")])])]),s._v(" "),a("tbody",[a("tr",[a("td",[a("code",[s._v("public")])]),s._v(" "),a("td",[s._v("公共相册(默认)")])]),s._v(" "),a("tr",[a("td",[a("code",[s._v("private")])]),s._v(" "),a("td",[s._v("所有者的私人专辑")])]),s._v(" "),a("tr",[a("td",[a("code",[s._v("private_but_link")])]),s._v(" "),a("td",[s._v("与"),a("code",[s._v("private")]),s._v(" 相同+带有专辑链接的那些")])]),s._v(" "),a("tr",[a("td",[a("code",[s._v("password")])]),s._v(" "),a("td",[s._v("将设置访问相册的密码")])])])]),s._v(" "),a("p",[s._v("例如，如果您需要 "),a("code",[s._v("private_but_link")]),s._v("，元数据属性应该如下所示：")]),s._v(" "),a("div",{staticClass:"language-json line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"privacy"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"type"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"private_but_link"')]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])]),a("h3",{attrs:{id:"用户元数据"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#用户元数据"}},[s._v("#")]),s._v(" 用户元数据")]),s._v(" "),a("p",[s._v("下面的 JSON 元数据文件为 "),a("code",[s._v("rodolfo/")]),s._v(" 用户提供了一个示例元数据。")]),s._v(" "),a("div",{staticClass:"language-json line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"userData"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"role"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"user"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"name"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Rodolfo Berrios"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"username"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"rodolfo"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"email"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"rodolfo@chevereto.com"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"website"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"https://rodolfoberrios.com"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"bio"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"I\'m the Master of Puppets @chevereto, the alpha-omega. He/Him/They."')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"profileImages"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"avatar"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"rodo-avatar.jpg"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"background"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"rodo-bkg.jpg"')]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"networks"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"facebook"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"no!"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"twitter"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"no!"')]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"timezone"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"America/Santiago"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"language"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"cl"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"private"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("false")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br")])]),a("p",[s._v("个人资料图片必须位于用户文件夹内的"),a("code",[s._v(".assets/")]),s._v("文件夹中。")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("./"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("path"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n└── rodolfo\n    └── .assets\n        ├── rodo-avatar.jpg\n        └── rodo-bkg.jpg\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])]),a("div",{staticClass:"custom-block danger"},[a("p",{staticClass:"custom-block-title"},[s._v("用户资产")]),s._v(" "),a("p",[s._v("图像资产的类型必须是您的安装处理的文件格式之一。")])])],1)}),[],!1,null,null,null);t.default=r.exports}}]);