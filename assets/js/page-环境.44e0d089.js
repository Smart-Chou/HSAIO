(window.webpackJsonp=window.webpackJsonp||[]).push([[348],{997:function(_,t,v){"use strict";v.r(t);var e=v(1),r=Object(e.a)({},(function(){var _=this,t=_.$createElement,v=_._self._c||t;return v("ContentSlotsDistributor",{attrs:{"slot-key":_.$parent.slotKey}},[v("h1",{attrs:{id:"环境"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#环境"}},[_._v("#")]),_._v(" 环境")]),_._v(" "),v("p",[_._v("这些是可用于调整 Chevereto 配置的系统级设置。")]),_._v(" "),v("h2",{attrs:{id:"传递值"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#传递值"}},[_._v("#")]),_._v(" 传递值")]),_._v(" "),v("p",[_._v("将设置传递给 Chevereto 建议使用系统级环境变量。")]),_._v(" "),v("div",{staticClass:"custom-block tip"},[v("p",{staticClass:"custom-block-title"},[_._v("设置文件")]),_._v(" "),v("p",[_._v("如果无法使用环境变量，您可以使用 "),v("RouterLink",{attrs:{to:"/chevereto/setup/server/settings-file.html"}},[_._v("设置文件")]),_._v(" 来配置 Chevereto 变量。")],1)]),_._v(" "),v("h3",{attrs:{id:"apache-http-web-服务器-php-模块"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#apache-http-web-服务器-php-模块"}},[_._v("#")]),_._v(" Apache HTTP Web 服务器(PHP 模块)")]),_._v(" "),v("p",[_._v("如果 PHP 是使用 "),v("code",[_._v("mpm_prefork")]),_._v(" 提供的，您必须参考有关 "),v("a",{attrs:{href:"https://httpd.apache.org/docs/current/env.html",target:"_blank",rel:"noopener noreferrer"}},[_._v("Apache HTTP Server 环境变量"),v("OutboundLink")],1),_._v(" 的文档。您可以在 "),v("a",{attrs:{href:"https://github.com/chevereto/vultr-marketplace/blob/main/files/var/lib/cloud/scripts/per-instance/provision.sh",target:"_blank",rel:"noopener noreferrer"}},[_._v("chevereto/vultr-marketplace"),v("OutboundLink")],1),_._v("。")]),_._v(" "),v("h3",{attrs:{id:"其他设置"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#其他设置"}},[_._v("#")]),_._v(" 其他设置")]),_._v(" "),v("p",[_._v("对于这些，您将运行 "),v("a",{attrs:{href:"https://www.php.net/manual/en/install.fpm.configuration.php",target:"_blank",rel:"noopener noreferrer"}},[_._v("PHP-FPM"),v("OutboundLink")],1),_._v("，以便您可以在您的 "),v("code",[_._v("php-fpm.conf")]),_._v(" 文件中添加这些设置.")]),_._v(" "),v("h3",{attrs:{id:"应用服务器"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#应用服务器"}},[_._v("#")]),_._v(" 应用服务器")]),_._v(" "),v("p",[_._v("对于这些，您将运行 PHP CLI，因此您应该能够在 CLI 的 "),v("code",[_._v("php.ini")]),_._v(" 中传递这些内容。你也可以在你的 shell 中“导出”那些。请参阅每个应用程序服务器的文档，了解将这些内容传递给 Chevereto 的最佳方式。")]),_._v(" "),v("h3",{attrs:{id:"容器"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#容器"}},[_._v("#")]),_._v(" 容器")]),_._v(" "),v("p",[_._v("将环境变量传递给容器运行命令或在 "),v("code",[_._v("docker compose")]),_._v(" 层。")]),_._v(" "),v("h2",{attrs:{id:"资产变量"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#资产变量"}},[_._v("#")]),_._v(" 资产变量")]),_._v(" "),v("p",[_._v("用于存储可以上传到任何受支持的外部存储 API 的资产的环境变量。")]),_._v(" "),v("p",[_._v("请注意，资产是指用户提供的资产，例如头像和背景，还有网站图形，例如徽标和主页封面。")]),_._v(" "),v("p",[_._v("检查 "),v("RouterLink",{attrs:{to:"/chevereto/settings/external-storage.html"}},[_._v("外部存储")]),_._v(" 为用户内容上传添加外部存储服务器。")],1),_._v(" "),v("table",[v("thead",[v("tr",[v("th",[_._v("变量")]),_._v(" "),v("th",[_._v("设置键")]),_._v(" "),v("th",[_._v("示例")])])]),_._v(" "),v("tbody",[v("tr",[v("td",[_._v("CHEVERETO_ASSET_STORAGE_ACCOUNT_ID")]),_._v(" "),v("td",[_._v("asset_storage_account_id")]),_._v(" "),v("td",[_._v("123")])]),_._v(" "),v("tr",[v("td",[_._v("CHEVERETO_ASSET_STORAGE_ACCOUNT_NAME")]),_._v(" "),v("td",[_._v("asset_storage_account_name")]),_._v(" "),v("td",[_._v("account_name")])]),_._v(" "),v("tr",[v("td",[_._v("CHEVERETO_ASSET_STORAGE_BUCKET")]),_._v(" "),v("td",[_._v("asset_storage_bucket")]),_._v(" "),v("td",[_._v("bucket")])]),_._v(" "),v("tr",[v("td",[_._v("CHEVERETO_ASSET_STORAGE_KEY")]),_._v(" "),v("td",[_._v("asset_storage_key")]),_._v(" "),v("td",[_._v("key")])]),_._v(" "),v("tr",[v("td",[_._v("CHEVERETO_ASSET_STORAGE_NAME")]),_._v(" "),v("td",[_._v("asset_storage_name")]),_._v(" "),v("td",[_._v("assets")])]),_._v(" "),v("tr",[v("td",[_._v("CHEVERETO_ASSET_STORAGE_REGION")]),_._v(" "),v("td",[_._v("asset_storage_region")]),_._v(" "),v("td",[_._v("us-west-2")])]),_._v(" "),v("tr",[v("td",[_._v("CHEVERETO_ASSET_STORAGE_SECRET")]),_._v(" "),v("td",[_._v("asset_storage_secret")]),_._v(" "),v("td",[_._v("secret")])]),_._v(" "),v("tr",[v("td",[_._v("CHEVERETO_ASSET_STORAGE_SERVER")]),_._v(" "),v("td",[_._v("asset_storage_server")]),_._v(" "),v("td",[_._v("server")])]),_._v(" "),v("tr",[v("td",[_._v("CHEVERETO_ASSET_STORAGE_SERVICE")]),_._v(" "),v("td",[_._v("asset_storage_service")]),_._v(" "),v("td",[_._v("service")])]),_._v(" "),v("tr",[v("td",[_._v("CHEVERETO_ASSET_STORAGE_TYPE")]),_._v(" "),v("td",[_._v("asset_storage_type")]),_._v(" "),v("td",[_._v("s3")])]),_._v(" "),v("tr",[v("td",[_._v("CHEVERETO_ASSET_STORAGE_URL")]),_._v(" "),v("td",[_._v("asset_storage_url")]),_._v(" "),v("td",[v("code",[_._v("<url>/bucket")])])])])]),_._v(" "),v("h2",{attrs:{id:"数据库变量"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#数据库变量"}},[_._v("#")]),_._v(" 数据库变量")]),_._v(" "),v("p",[_._v("数据库详细信息的环境变量。")]),_._v(" "),v("table",[v("thead",[v("tr",[v("th",[_._v("变量")]),_._v(" "),v("th",[_._v("设置键")]),_._v(" "),v("th",[_._v("示例")])])]),_._v(" "),v("tbody",[v("tr",[v("td",[_._v("CHEVERETO_DB_DRIVER")]),_._v(" "),v("td",[_._v("db_driver")]),_._v(" "),v("td",[_._v("mysql")])]),_._v(" "),v("tr",[v("td",[_._v("CHEVERETO_DB_HOST")]),_._v(" "),v("td",[_._v("db_host")]),_._v(" "),v("td",[_._v("mariadb")])]),_._v(" "),v("tr",[v("td",[_._v("CHEVERETO_DB_NAME")]),_._v(" "),v("td",[_._v("db_name")]),_._v(" "),v("td",[_._v("chevereto")])]),_._v(" "),v("tr",[v("td",[_._v("CHEVERETO_DB_PASS")]),_._v(" "),v("td",[_._v("db_pass")]),_._v(" "),v("td",[_._v("user_database_password")])]),_._v(" "),v("tr",[v("td",[_._v("CHEVERETO_DB_PDO_ATTRS")]),_._v(" "),v("td",[_._v("db_pdo_attrs")]),_._v(" "),v("td",[v("code",[_._v('{"key":"value"}')]),_._v(" (json)")])]),_._v(" "),v("tr",[v("td",[_._v("CHEVERETO_DB_PORT")]),_._v(" "),v("td",[_._v("db_port")]),_._v(" "),v("td",[v("code",[_._v("3306")])])]),_._v(" "),v("tr",[v("td",[_._v("CHEVERETO_DB_TABLE_PREFIX")]),_._v(" "),v("td",[_._v("db_table_prefix")]),_._v(" "),v("td",[_._v("chv_")])]),_._v(" "),v("tr",[v("td",[_._v("CHEVERETO_DB_USER")]),_._v(" "),v("td",[_._v("db_user")]),_._v(" "),v("td",[_._v("chevereto")])])])]),_._v(" "),v("h2",{attrs:{id:"调试变量"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#调试变量"}},[_._v("#")]),_._v(" 调试变量")]),_._v(" "),v("p",[v("RouterLink",{attrs:{to:"/chevereto/manual/troubleshooting/debug.html"}},[_._v("debug")]),_._v(" 的环境变量。")],1),_._v(" "),v("div",{staticClass:"custom-block tip"},[v("p",{staticClass:"custom-block-title"},[_._v("提示")]),_._v(" "),v("p",[_._v("使用 Docker 时，无论此配置如何，它都会记录到 "),v("code",[_._v("/dev/stderr")]),_._v("。")])]),_._v(" "),v("table",[v("thead",[v("tr",[v("th",[_._v("变量")]),_._v(" "),v("th",[_._v("设置键")]),_._v(" "),v("th",[_._v("示例")])])]),_._v(" "),v("tbody",[v("tr",[v("td",[_._v("CHEVERETO_DEBUG_LEVEL")]),_._v(" "),v("td",[_._v("debug_level")]),_._v(" "),v("td",[v("code",[_._v("1")])])]),_._v(" "),v("tr",[v("td",[_._v("CHEVERETO_ERROR_LOG")]),_._v(" "),v("td",[_._v("error_log")]),_._v(" "),v("td",[_._v("/var/log/chevereto-error.log")])])])]),_._v(" "),v("h2",{attrs:{id:"会话变量"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#会话变量"}},[_._v("#")]),_._v(" 会话变量")]),_._v(" "),v("p",[_._v("会话驱动程序的环境变量。")]),_._v(" "),v("table",[v("thead",[v("tr",[v("th",[_._v("变量")]),_._v(" "),v("th",[_._v("设置键")]),_._v(" "),v("th",[_._v("示例")])])]),_._v(" "),v("tbody",[v("tr",[v("td",[_._v("CHEVERETO_SESSION_SAVE_HANDLER")]),_._v(" "),v("td",[_._v("session.save_handler")]),_._v(" "),v("td",[v("code",[_._v("redis")]),_._v(" "),v("code",[_._v("files")])])]),_._v(" "),v("tr",[v("td",[_._v("CHEVERETO_SESSION_SAVE_PATH")]),_._v(" "),v("td",[_._v("session.save_path")]),_._v(" "),v("td",[v("code",[_._v("tcp://redis")]),_._v(" "),v("code",[_._v("/tmp")])])])])]),_._v(" "),v("h2",{attrs:{id:"图像处理变量"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#图像处理变量"}},[_._v("#")]),_._v(" 图像处理变量")]),_._v(" "),v("p",[_._v("用于控制图像处理的环境变量。")]),_._v(" "),v("table",[v("thead",[v("tr",[v("th",[_._v("变量")]),_._v(" "),v("th",[_._v("设置键")]),_._v(" "),v("th",[_._v("示例")])])]),_._v(" "),v("tbody",[v("tr",[v("td",[_._v("CHEVERETO_IMAGE_FORMATS_AVAILABLE")]),_._v(" "),v("td",[_._v("image_formats_available")]),_._v(" "),v("td",[v("code",[_._v("'JPG','PNG','BMP','GIF','WEBP'")])])]),_._v(" "),v("tr",[v("td",[_._v("CHEVERETO_IMAGE_LIBRARY")]),_._v(" "),v("td",[_._v("image_library")]),_._v(" "),v("td",[v("code",[_._v("imagick")]),_._v(" "),v("code",[_._v("gd")])])])])]),_._v(" "),v("h2",{attrs:{id:"主机名变量"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#主机名变量"}},[_._v("#")]),_._v(" 主机名变量")]),_._v(" "),v("p",[_._v("主机名配置的环境变量。")]),_._v(" "),v("table",[v("thead",[v("tr",[v("th",[_._v("变量")]),_._v(" "),v("th",[_._v("设置键")]),_._v(" "),v("th",[_._v("示例")])])]),_._v(" "),v("tbody",[v("tr",[v("td",[_._v("CHEVERETO_HOSTNAME")]),_._v(" "),v("td",[_._v("hostname")]),_._v(" "),v("td",[_._v("chevereto.loc")])]),_._v(" "),v("tr",[v("td",[_._v("CHEVERETO_HOSTNAME_PATH")]),_._v(" "),v("td",[_._v("hostname_path")]),_._v(" "),v("td",[_._v("/")])]),_._v(" "),v("tr",[v("td",[_._v("CHEVERETO_HTTPS")]),_._v(" "),v("td",[_._v("https")]),_._v(" "),v("td",[v("code",[_._v("true")])])])])]),_._v(" "),v("h2",{attrs:{id:"系统上下文变量"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#系统上下文变量"}},[_._v("#")]),_._v(" 系统上下文变量")]),_._v(" "),v("p",[_._v("提供 Chevereto 系统的上下文的环境变量。根据您运行它的位置，您可能想要禁用敏感功能。")]),_._v(" "),v("table",[v("thead",[v("tr",[v("th",[_._v("变量")]),_._v(" "),v("th",[_._v("设置键")]),_._v(" "),v("th",[_._v("示例")])])]),_._v(" "),v("tbody",[v("tr",[v("td",[_._v("CHEVERETO_DISABLE_PHP_PAGES")]),_._v(" "),v("td",[_._v("disable_php_pages")]),_._v(" "),v("td",[v("code",[_._v("false")])])]),_._v(" "),v("tr",[v("td",[_._v("CHEVERETO_DISABLE_UPDATE_HTTP")]),_._v(" "),v("td",[_._v("disable_update_http")]),_._v(" "),v("td",[v("code",[_._v("false")])])]),_._v(" "),v("tr",[v("td",[_._v("CHEVERETO_DISABLE_UPDATE_CLI")]),_._v(" "),v("td",[_._v("disable_update_cli")]),_._v(" "),v("td",[v("code",[_._v("false")])])]),_._v(" "),v("tr",[v("td",[_._v("CHEVERETO_ENABLE_HTACCESS_CHECK")]),_._v(" "),v("td",[_._v("htaccess_enforce")]),_._v(" "),v("td",[v("code",[_._v("true")])])])])]),_._v(" "),v("h2",{attrs:{id:"文件上传变量"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#文件上传变量"}},[_._v("#")]),_._v(" 文件上传变量")]),_._v(" "),v("p",[_._v("文件上传限制的环境变量。请注意，以下环境变量适用于容器配置。")]),_._v(" "),v("table",[v("thead",[v("tr",[v("th",[_._v("变量")]),_._v(" "),v("th",[_._v("示例")])])]),_._v(" "),v("tbody",[v("tr",[v("td",[_._v("CHEVERETO_UPLOAD_MAX_FILESIZE")]),_._v(" "),v("td",[_._v("50M")])]),_._v(" "),v("tr",[v("td",[_._v("CHEVERETO_POST_MAX_SIZE")]),_._v(" "),v("td",[_._v("50M")])]),_._v(" "),v("tr",[v("td",[_._v("CHEVERETO_MAX_EXECUTION_TIME")]),_._v(" "),v("td",[_._v("30")])]),_._v(" "),v("tr",[v("td",[_._v("CHEVERETO_MEMORY_LIMIT")]),_._v(" "),v("td",[_._v("512M")])])])]),_._v(" "),v("p",[_._v("对于基于"),v("strong",[_._v("非容器")]),_._v("的配置，您需要在 "),v("RouterLink",{attrs:{to:"/chevereto/setup/system/requirements.html#PHP-配置"}},[_._v("php.ini 配置")]),_._v(" 中更改这些配置。")],1)])}),[],!1,null,null,null);t.default=r.exports}}]);