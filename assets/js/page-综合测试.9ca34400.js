(window.webpackJsonp=window.webpackJsonp||[]).push([[374],{735:function(s,t,a){"use strict";a.r(t);var n=a(1),e=Object(n.a)({},(function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h1",{attrs:{id:"综合测试"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#综合测试"}},[s._v("#")]),s._v(" 综合测试")]),s._v(" "),a("h2",{attrs:{id:"top"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#top"}},[s._v("#")]),s._v(" top")]),s._v(" "),a("p",[s._v("：一个命令行工具，可以显示 CPU、内存、进程等系统资源的统计信息。")]),s._v(" "),a("ul",[a("li",[s._v("用法："),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[s._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("top")]),s._v("         "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 打开 top 窗口")]),s._v("\n      -n "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("    "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 只显示一次就退出")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])])])]),s._v(" "),a("h3",{attrs:{id:"例"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#例"}},[s._v("#")]),s._v(" 例")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@CentOS ~"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# top")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("top")]),s._v(" - 09:42:39 up "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("19")]),s._v(" days, "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("6")]),s._v(":36,  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" user,  load average: "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.11")]),s._v(", "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.15")]),s._v(", "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.11")]),s._v("\nTasks:  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("7")]),s._v(" total,   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" running,  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("6")]),s._v(" sleeping,   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" stopped,   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" zombie\n%Cpu"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("s"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(":  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3.3")]),s._v(" us,  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1.7")]),s._v(" sy,  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v(" ni, "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("95.0")]),s._v(" id,  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v(" wa,  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v(" hi,  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v(" si,  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v(" st\nKiB Mem "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1014740")]),s._v(" total,   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("163768")]),s._v(" free,   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("270932")]),s._v(" used,   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("580040")]),s._v(" buff/cache\nKiB Swap:        "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" total,        "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" free,        "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" used.   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("538612")]),s._v(" avail Mem \n\n  PID "),a("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("USER")]),s._v("      PR  NI    VIRT    RES    SHR S  %CPU %MEM     TIME+ COMMAND\n    "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" root      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("125200")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3680")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2404")]),s._v(" S   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(":01.09 /usr/lib/systemd/systemd --switched-root --system --deserialize "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("21")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(" root      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("       "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" S   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(":00.00 "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("kthreadd"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v(" root      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("       "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" S   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(":00.06 "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("ksoftirqd/0"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v(" root      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("       "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" S   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(":00.52 "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("kworker/0:0"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("7")]),s._v(" root      rt   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("       "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" S   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(":00.00 "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("migration/0"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("8")]),s._v(" root      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("       "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" S   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(":00.00 "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("rcu_bh"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("9")]),s._v(" root      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("       "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" S   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(":01.71 "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("rcu_sched"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),s._v(" root      rt   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("       "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" S   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(":00.02 "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("watchdog/0"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("11")]),s._v(" root      rt   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("       "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" S   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(":00.02 "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("watchdog/1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("12")]),s._v(" root      rt   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("       "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" S   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(":00.00 "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("migration/1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br")])]),a("ul",[a("li",[s._v("第一行与 uptime 命令的显示内容相同。")]),s._v(" "),a("li",[s._v("第二行是所有进程（Task）的统计信息。")]),s._v(" "),a("li",[s._v("第三行是 CPU 使用率的统计信息。\n"),a("ul",[a("li",[s._v("这里显示的是 CPU 多个核的平均使用率，按 1 会分别显示各个核的使用率。")])])]),s._v(" "),a("li",[s._v("第四行、第五行与 free 命令的显示信息相同。")]),s._v(" "),a("li",[s._v("第六行是各进程的统计信息。\n"),a("ul",[a("li",[s._v("PR ：进程的 Priority 优先级。\n"),a("ul",[a("li",[s._v("取值为 rt 时表示 Real Time 类型的进程，省略其 Priority 值。")])])]),s._v(" "),a("li",[s._v("NI ：进程的 NICE 优先级。")]),s._v(" "),a("li",[s._v("VIRT ：Virtual Memory ，虚拟内存。")]),s._v(" "),a("li",[s._v("RES ：Resident Memory ，常驻内存。")]),s._v(" "),a("li",[s._v("SHR ：Shared Memory ，共享内存。")]),s._v(" "),a("li",[s._v("S ：Status ，进程的运行状态。")]),s._v(" "),a("li",[s._v("%CPU ：进程的 CPU 使用率，每次刷新显示时会重新计算。\n"),a("ul",[a("li",[s._v("这里显示的是进程在 CPU 单个核上的使用率，即使达到 100%，可能 CPU 的其它核还是空闲的。")])])]),s._v(" "),a("li",[s._v("%MEM ：进程的内存使用率，等于 RES 占内存总量的百分比。")]),s._v(" "),a("li",[s._v("TIME+ ：进程占用的 CPU 时长（是用户态、内核态两种情况的总和），精确到百分之一秒。\n"),a("ul",[a("li",[s._v("Real Time ：进程从启动时刻开始计算的运行时长（不管有没有占用 CPU ）。")]),s._v(" "),a("li",[s._v("User CPU Time ：进程在用户态占用的 CPU 时长。")]),s._v(" "),a("li",[s._v("System CPU Time ：进程在内核态占用的 CPU 时长。")])])]),s._v(" "),a("li",[s._v("COMMAND ：进程的启动命令。")])])])]),s._v(" "),a("h3",{attrs:{id:"操作命令"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#操作命令"}},[s._v("#")]),s._v(" 操作命令")]),s._v(" "),a("p",[s._v("打开 top 窗口之后可以输入以下命令：")]),s._v(" "),a("ul",[a("li",[s._v("控制显示颜色：\n"),a("ul",[a("li",[s._v("x  ：加亮显示被排序的那一列。")]),s._v(" "),a("li",[s._v("y  ：加亮显示 Running 状态的每行进程。")]),s._v(" "),a("li",[s._v("b  ：将用 x、y 加亮显示的行和列填充底色。")]),s._v(" "),a("li",[s._v("z  ：将部分显示内容标上颜色。")])])]),s._v(" "),a("li",[s._v("控制显示内容：\n"),a("ul",[a("li",[s._v("i  ：隐藏 idle 或 Zombie 状态的进程。")]),s._v(" "),a("li",[s._v("H  ：切换第二行显示所有线程（Thread）的统计信息。")]),s._v(" "),a("li",[s._v("E/e  ：切换顶部或进程表中内存的显示单位。")]),s._v(" "),a("li",[s._v("c  ：切换显示完整的 Command 。")]),s._v(" "),a("li",[s._v("V  ：切换显示 Command 的树状视图。")]),s._v(" "),a("li",[s._v("u  ：筛选显示的用户。")]),s._v(" "),a("li",[s._v("f  ：增加显示的字段。比如 TTY（启动进程的终端名，不是从终端启动则显示 ？）、SWAP、nMaj（主缺页异常数）。")]),s._v(" "),a("li",[s._v("W  ：保存 top 的显示设置，下次启动 top 时自动重用。")])])]),s._v(" "),a("li",[s._v("控制显示效果：\n"),a("ul",[a("li",[s._v("s  ：改变显示内容的刷新间隔。（默认为 3 秒刷新一次，按回车或空格可以手动刷新）")]),s._v(" "),a("li",[s._v("Shift + < 或 > ：左右切换按某列排序。")]),s._v(" "),a("li",[s._v("R  ：切换升序或降序排列。")]),s._v(" "),a("li",[s._v("L  ：搜索字符串。默认显示第一个搜索结果的位置，按 & 则会查找下一个。")]),s._v(" "),a("li",[s._v("h  ：显示帮助页面。")])])]),s._v(" "),a("li",[s._v("控制进程：\n"),a("ul",[a("li",[s._v("k  ：根据 PID 选择一个进程，向它发送一个信号（默认发送 15）。")]),s._v(" "),a("li",[s._v("r  ：根据 PID 选择一个进程，设置它的优先级 NI 。")])])])]),s._v(" "),a("h2",{attrs:{id:"vmstat"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#vmstat"}},[s._v("#")]),s._v(" vmstat")]),s._v(" "),a("p",[s._v("：一个与 top 类似的工具，但是可以记录常见指标的变化过程。")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[s._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("vmstat")]),s._v("      "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 显示系统的内存、磁盘 IO、CPU 等信息")]),s._v("\n        -w    "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 按宽排版显示")]),s._v("\n        -t    "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 增加显示时间戳")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("ul",[a("li",[s._v("例："),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@CentOS ~"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# vmstat -wt 1")]),s._v("\nprocs -----------------------memory---------------------- ---swap-- -----io---- -system-- --------cpu-------- -----timestamp-----\nr  b         swpd         "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("free")]),s._v("         buff        cache   si   so    bi    bo   "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("in")]),s._v("   cs  us  sy  "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("id")]),s._v("  wa  st                 CST\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("            "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("       "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("163228")]),s._v("       "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("101368")]),s._v("      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1073712")]),s._v("    "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("    "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("    "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),s._v("    "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("17")]),s._v("    "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v("    "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("95")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2019")]),s._v("-12-05 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("11")]),s._v(":40:20\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("            "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("       "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("163080")]),s._v("       "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("101368")]),s._v("      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1073712")]),s._v("    "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("    "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("     "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("     "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("217")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("264")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("91")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2019")]),s._v("-12-05 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("11")]),s._v(":40:21\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("            "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("       "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("163064")]),s._v("       "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("101368")]),s._v("      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1073720")]),s._v("    "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("    "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("     "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("     "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("244")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("313")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("92")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2019")]),s._v("-12-05 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("11")]),s._v(":40:22\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br")])]),a("ul",[a("li",[s._v("process 状态\n"),a("ul",[a("li",[s._v("r ：等待 CPU 运行的进程数。最好为 0 ，表示 CPU 没有过载。")]),s._v(" "),a("li",[s._v("b ：等待磁盘 IO 的进程数。最好为 0 ，表示磁盘 IO 没有过载。")])])]),s._v(" "),a("li",[s._v("swap 状态\n"),a("ul",[a("li",[s._v("si ：每秒从虚拟内存读取的数据量，单位 KByte 。最好为 0 ，表示内存够用。")]),s._v(" "),a("li",[s._v("so ：每秒写出到虚拟内存的数据量，单位 KByte 。最好为 0 ，表示内存够用。")])])]),s._v(" "),a("li",[s._v("io 状态\n"),a("ul",[a("li",[s._v("bi ：每秒从磁盘读取的数据块数。")]),s._v(" "),a("li",[s._v("bo ：每秒写入磁盘的数据块数。")])])]),s._v(" "),a("li",[s._v("system 状态\n"),a("ul",[a("li",[s._v("in ：每秒的中断数。")]),s._v(" "),a("li",[s._v("cs ：CPU 每秒的上下文切换数（context switches）。")])])])])])]),s._v(" "),a("h2",{attrs:{id:"sysstat"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#sysstat"}},[s._v("#")]),s._v(" sysstat")]),s._v(" "),a("p",[s._v("：一个工具包，提供了一些查看系统各方面统计信息（statistics）的工具。")]),s._v(" "),a("ul",[a("li",[s._v("安装："),a("code",[s._v("yum install sysstat")])])]),s._v(" "),a("p",[s._v("其中的常用命令如下：")]),s._v(" "),a("h3",{attrs:{id:"mpstat"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#mpstat"}},[s._v("#")]),s._v(" mpstat")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[s._v("$ mpstat      "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 查看 CPU 的详细统计信息")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h3",{attrs:{id:"iostat"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#iostat"}},[s._v("#")]),s._v(" iostat")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[s._v("$ iostat      "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 显示 CPU 使用情况和磁盘读写 tps、读写速率、读写总量等")]),s._v("\n        -x    "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 增加显示读写等待时间等")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("h3",{attrs:{id:"sar"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#sar"}},[s._v("#")]),s._v(" sar")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[s._v("$ sar "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("options"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("    "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 显示某些指标的历史记录")]),s._v("\n      -n DEV       "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 显示本机网络接口的收发速率")]),s._v("\n      -u           "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 显示 CPU 的使用情况")]),s._v("\n      -r           "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 显示内存的使用情况")]),s._v("\n      -b           "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 显示磁盘 IO 的 tps")]),s._v("\n      -B           "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 显示磁盘每秒读写的 page 数")]),s._v("\n\nsar "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("options"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("interval "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("count"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 实时显示某些指标")]),s._v("\n    -u "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),s._v("        "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 显示 CPU 的使用情况，每秒显示一次，总共显示 10 次")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br")])]),a("ul",[a("li",[s._v("sar 可以查看系统指标的历史记录，也可以实时查看。")]),s._v(" "),a("li",[s._v("sar 会每隔十分钟收集一次系统的状态信息，并将它们保存到目录 /var/log/sa 下，每天保存一个文件。")]),s._v(" "),a("li",[s._v("例："),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@CentOS ~"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# sar -n DEV 1")]),s._v("\nLinux "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3.10")]),s._v(".0-957.5.1.el7.x86_64 "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("centos"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("        "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("12")]),s._v("/05/2019      _x86_64_        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" CPU"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("11")]),s._v(":58:32 AM     IFACE   rxpck/s   txpck/s    rxkB/s    txkB/s   rxcmp/s   txcmp/s  rxmcst/s\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("11")]),s._v(":58:33 AM      eth0     "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.00")]),s._v("     "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.00")]),s._v("      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.77")]),s._v("      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1.24")]),s._v("      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.00")]),s._v("      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.00")]),s._v("      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.00")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("11")]),s._v(":58:33 AM        lo      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2.00")]),s._v("      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2.00")]),s._v("      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.16")]),s._v("      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.16")]),s._v("      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.00")]),s._v("      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.00")]),s._v("      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.00")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])]),a("ul",[a("li",[s._v("IFACE  ：网络接口。")]),s._v(" "),a("li",[s._v("rxpck/s、txpck/s 分别表示每秒接收、发送的包数。")]),s._v(" "),a("li",[s._v("kB/s  是每秒的千字节数，cmp/s 是每秒的压缩包数，mcst/s 是每秒的多播数据包数。")]),s._v(" "),a("li",[s._v("txkB/s  ：每秒钟发送的千字节数。")])])])]),s._v(" "),a("h3",{attrs:{id:"pidstat"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#pidstat"}},[s._v("#")]),s._v(" pidstat")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[s._v("$ pidstat\n          -u    "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 显示各个进程的 CPU 使用率")]),s._v("\n          -r    "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 显示各个进程的内存使用率")]),s._v("\n          -d    "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 显示各个进程的磁盘 IO 速率")]),s._v("\n          -w    "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 显示各个进程的上下文切换情况")]),s._v("\n          -l    "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 显示完整的 Command")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br")])]),a("ul",[a("li",[s._v("例："),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@CentOS ~"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# pidstat -ul")]),s._v("\nLinux "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3.10")]),s._v(".0-957.5.1.el7.x86_64 "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("centos"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("        "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("12")]),s._v("/05/2019      _x86_64_        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" CPU"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("11")]),s._v(":56:47 AM   "),a("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("UID")]),s._v("       PID    %usr %system  %guest    %CPU   CPU  Command\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("11")]),s._v(":56:47 AM     "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("         "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("    "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.00")]),s._v("    "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.00")]),s._v("    "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.00")]),s._v("    "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.00")]),s._v("     "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("  /usr/lib/systemd/systemd --system --deserialize "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),s._v(" \n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("11")]),s._v(":56:47 AM     "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("         "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v("    "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.00")]),s._v("    "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.00")]),s._v("    "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.00")]),s._v("    "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.00")]),s._v("     "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("  kthreadd\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("11")]),s._v(":56:47 AM     "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("         "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v("    "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.00")]),s._v("    "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.01")]),s._v("    "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.00")]),s._v("    "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.01")]),s._v("     "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("  ksoftirqd/0\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("11")]),s._v(":56:47 AM     "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("         "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("9")]),s._v("    "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.00")]),s._v("    "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.01")]),s._v("    "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.00")]),s._v("    "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.01")]),s._v("     "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("  rcu_sched\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br")])]),a("ul",[a("li",[s._v("%usr ：进程在用户空间中的 CPU 使用率。")]),s._v(" "),a("li",[s._v("%guest ：进程在虚拟机中的 CPU 使用率。")])])])]),s._v(" "),a("h2",{attrs:{id:"stress"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#stress"}},[s._v("#")]),s._v(" stress")]),s._v(" "),a("p",[s._v("：一个压力测试工具，可以消耗 CPU、内存、磁盘资源，但不会生成测试报告，需要同时运行 top 等命令进行查看。")]),s._v(" "),a("ul",[a("li",[s._v("安装："),a("code",[s._v("yum install stress")])]),s._v(" "),a("li",[s._v("用法："),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[s._v("$ stress\n        --cpu "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v("         "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 产生 2 个测试 CPU 的进程，不停调用 sqrt()函数")]),s._v("\n\n        --vm "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v("          "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 产生 2 个测试内存分配的进程，不停调用 malloc()和 free()函数（占用用户态 cpu ）")]),s._v("\n        --vm-bytes 256M "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 每个进程分配多少字节（默认为 256M ，单位可以是 B、K、M、G）")]),s._v("\n        --vm-hang "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),s._v("    "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 每次分配的内存隔 10 秒后才释放")]),s._v("\n\n        --io "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v("          "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 产生 2 个测试磁盘 IO 的进程，不停调用 sync()函数，将内存中的数据写到磁盘上")]),s._v("\n\n        --hdd "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v("         "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 产生 2 个测试磁盘写入的进程，不停调用 write()和 unlink()函数")]),s._v("\n        --hdd-bytes 1G  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 每个进程创建一个多大的磁盘块（默认为 1G）")]),s._v("\n\n        -t 10s          "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 持续测试的时长（默认一直测试，单位可以是 s、m、h、d、y）")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br")])])])])])}),[],!1,null,null,null);t.default=e.exports}}]);