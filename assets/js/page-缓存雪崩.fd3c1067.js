(window.webpackJsonp=window.webpackJsonp||[]).push([[378],{1032:function(t,a,e){"use strict";e.r(a);var s=e(1),r=Object(s.a)({},(function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h2",{attrs:{id:"什么是缓存雪崩"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#什么是缓存雪崩"}},[t._v("#")]),t._v(" 什么是缓存雪崩？")]),t._v(" "),e("p",[t._v("缓存雪崩是指在某一个时间段，缓存集中过期失效。此刻无数的请求直接绕开缓存，直接请求数据库。")]),t._v(" "),e("p",[t._v("造成缓存雪崩的原因，有以下两种：")]),t._v(" "),e("ol",[e("li",[e("strong",[t._v("reids宕机")])]),t._v(" "),e("li",[e("strong",[t._v("大部分数据失效")])])]),t._v(" "),e("p",[t._v("当正常的情况下，key没有大量失效的用户访问原理图如下：")]),t._v(" "),e("p",[e("img",{attrs:{src:"https://pan.layne666.cn/images/2021/07/18/lgX0ODawIi.jpg",alt:"1728ef6bad8b7d2a.webp",loading:"lazy"}})]),t._v(" "),e("p",[t._v("当某一时间点，key大量失效，造成的缓存雪崩的原理图如下：")]),t._v(" "),e("p",[e("img",{attrs:{src:"https://pan.layne666.cn/images/2021/07/18/aHWTrrjf7C.jpg",alt:"1728ef6baf929354.webp",loading:"lazy"}})]),t._v(" "),e("h2",{attrs:{id:"解决方案"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#解决方案"}},[t._v("#")]),t._v(" 解决方案")]),t._v(" "),e("p",[t._v("对于缓存雪崩的解决方案有以下两种：")]),t._v(" "),e("ol",[e("li",[t._v("搭建高可用的集群，防止单机的redis宕机。")]),t._v(" "),e("li",[t._v("设置不同的过期时间，防止同意之间内大量的key失效。")])]),t._v(" "),e("blockquote",[e("p",[t._v("转载自：https://juejin.cn/post/6844904182609084424")])])])}),[],!1,null,null,null);a.default=r.exports}}]);