(window.webpackJsonp=window.webpackJsonp||[]).push([[384],{736:function(s,t,a){"use strict";a.r(t);var n=a(1),e=Object(n.a)({},(function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h1",{attrs:{id:"网络测试"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#网络测试"}},[s._v("#")]),s._v(" 网络测试")]),s._v(" "),a("h2",{attrs:{id:"tcp-udp-测试"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#tcp-udp-测试"}},[s._v("#")]),s._v(" TCP/UDP 测试")]),s._v(" "),a("h3",{attrs:{id:"telnet"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#telnet"}},[s._v("#")]),s._v(" telnet")]),s._v(" "),a("p",[s._v("：一个陈旧的远程登录命令。")]),s._v(" "),a("ul",[a("li",[s._v("通信内容没有加密，容易被监听。因此目前不适合用于远程登录，常用于测试 TCP 端口能否连通。")]),s._v(" "),a("li",[s._v("命令："),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[s._v("$ telnet "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("host"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("port"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("    "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 连接到某个主机（默认采用 TCP 23 端口）")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])])]),s._v(" "),a("li",[s._v("例："),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@CentOS ~"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# telnet baidu.com 80")]),s._v("\nTrying "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("39.156")]),s._v(".69.79"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v(".\nConnected to baidu.com.\nEscape character is "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'^]'")]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(".")]),s._v("\n\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])]),a("ul",[a("li",[s._v("可见它成功连接到目标主机的 80 端口。此时先后按 "),a("code",[s._v("Ctrl + ]")]),s._v(" 和 "),a("code",[s._v("Ctrl + D")]),s._v(" 即可终止命令。")])])])]),s._v(" "),a("h3",{attrs:{id:"nmap"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#nmap"}},[s._v("#")]),s._v(" nmap")]),s._v(" "),a("p",[s._v("：一个命令行工具，用于端口扫描。")]),s._v(" "),a("ul",[a("li",[s._v("安装："),a("code",[s._v("yum install nmap")])]),s._v(" "),a("li",[s._v("命令："),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[s._v("$ nmap\n      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("192.168")]),s._v(".0.1               "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 扫描目标主机有哪些端口可以连接")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("192.168")]),s._v(".0.1/24            "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 扫描一个网段，检测有哪些可连接的主机，并扫描它们的端口")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("192.168")]),s._v(".0.1 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("192.168")]),s._v(".0-5.1 "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 扫描多个主机")]),s._v("\n      -p "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("80,443")]),s._v("                 "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 只扫描指定端口（默认扫描常用的 1000 个端口）")]),s._v("\n      -A                        "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 扫描各种信息（比如推测目标主机的操作系统、版本）")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br")])])])]),s._v(" "),a("h3",{attrs:{id:"nc"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#nc"}},[s._v("#")]),s._v(" nc")]),s._v(" "),a("ul",[a("li",[a("p",[s._v("netcat ：一个命令行工具，于 1996 年发布，可进行简单的 TCP、UDP 通信，常用于测试端口能否连通。")]),s._v(" "),a("ul",[a("li",[s._v("nmap 项目开发了 ncat 命令，重新实现了 netcat 的功能。")]),s._v(" "),a("li",[s._v("二者的命令缩写都为 nc 。")])])]),s._v(" "),a("li",[a("p",[s._v("安装："),a("code",[s._v("yum install nc")])])]),s._v(" "),a("li",[a("p",[s._v("命令：")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[s._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("nc")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("options"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("hostname"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("port"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n      -k        "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# --keep-open ，作为 TCP 服务器运行时，保持监听端口。默认接收一次连接就会终止命令")]),s._v("\n      -l        "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 作为 TCP 或 UDP 服务器运行时，监听指定的端口")]),s._v("\n\n      -p "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("port"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 指定发送数据时，在 Socket 中 bind 的 port")]),s._v("\n      -s "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("IP"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 指定发送数据时，在 Socket 中 bind 的 IP")]),s._v("\n\n      -u        "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 采用 UDP 通信。默认为 TCP 通信")]),s._v("\n      -v        "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# --verbose")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br")])]),a("ul",[a("li",[s._v("用两个 nc 进程建立 TCP 或 UDP 连接之后，给任一个 nc 的 stdin 输入数据，都会传输到另一个 nc ，默认输出到 stdout 。")])])]),s._v(" "),a("li",[a("p",[s._v("TCP 通信的示例："),a("br"),s._v("\n用 nc 监听 TCP 80 端口：")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@CentOS ~"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# nc -klv 80")]),s._v("\nNcat: Version "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("7.50")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v(" https://nmap.org/ncat "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\nNcat: Listening on :::80\nNcat: Listening on "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v(".0.0:80\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])]),a("p",[s._v("另开一个终端，用 nc 访问 TCP 80 端口：")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@CentOS ~"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# nc -v 127.0.0.1 80")]),s._v("\nNcat: Version "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("7.50")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v(" https://nmap.org/ncat "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\nNcat: Connected to "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("127.0")]),s._v(".0.1:80.\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("p",[s._v("同时，服务器端的 nc 的 stdout 如下：")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[s._v("Ncat: Connection from "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("127.0")]),s._v(".0.1.\nNcat: Connection from "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("127.0")]),s._v(".0.1:59700.\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("p",[s._v("执行 "),a("code",[s._v("curl 127.0.0.1")]),s._v("，服务器端的 nc 的 stdout 如下：")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[s._v("Ncat: Connection from "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("127.0")]),s._v(".0.1.\nNcat: Connection from "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("127.0")]),s._v(".0.1:57408.\nGET / HTTP/1.1\nUser-Agent: curl/7.29.0\nHost: "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("127.0")]),s._v(".0.1\nAccept: */*\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br")])])]),s._v(" "),a("li",[a("p",[s._v("UDP 通信的示例："),a("br"),s._v("\n用 nc 监听 UDP 80 端口：")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@CentOS ~"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# nc -luv 80")]),s._v("\nNcat: Version "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("7.50")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v(" https://nmap.org/ncat "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\nNcat: Listening on :::80\nNcat: Listening on "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v(".0.0:80\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])]),a("p",[s._v("另开一个终端，用 nc 访问 UDP 80 端口：")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@CentOS ~"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# nc -uv 127.0.0.1 80")]),s._v("\nNcat: Version "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("7.50")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v(" https://nmap.org/ncat "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\nNcat: Connected to "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("127.0")]),s._v(".0.1:80.\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("ul",[a("li",[s._v("此时显示的 "),a("code",[s._v("Connected to")]),s._v(" 并不表示连接成功，因为 UDP 是无连接的，只是发送数据包，不检查是否发送成功。要看对方的终端是否收到消息。")])])])]),s._v(" "),a("h3",{attrs:{id:"tcpdump"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#tcpdump"}},[s._v("#")]),s._v(" tcpdump")]),s._v(" "),a("p",[s._v("：一个网络抓包工具，可以抓取主机网卡上收发的所有数据包。")]),s._v(" "),a("ul",[a("li",[a("p",[s._v("命令：")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[s._v("tcpdump\n        -i lo         "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 监听指定网卡（默认是监听第一个网卡，即 eth0）")]),s._v("\n        -n            "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 将主机名、域名显示成明确的 IP 地址")]),s._v("\n        -nn           "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 将端口名显示成明确的端口号")]),s._v("\n        -v            "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 显示数据包的详细信息")]),s._v("\n        -vv           "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 显示数据包更详细的信息")]),s._v("\n\n        "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 过滤表达式")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("host")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.0")]),s._v(".0.1       "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 指定主机")]),s._v("\n        net "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.0")]),s._v(".0.1/24     "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 某个网段")]),s._v("\n        src "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.0")]),s._v(".0.1        "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 指定源地址")]),s._v("\n        dst "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.0")]),s._v(".0.1        "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 指定目的地址")]),s._v("\n        tcp                 "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 指定协议")]),s._v("\n        port "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("80")]),s._v("             "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 指定端口")]),s._v("\n        tcp and dst port "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("80")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 过滤出目的端口为 80 的 tcp 数据包")]),s._v("\n\n        -c "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),s._v("               "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 抓取指定数量的数据包之后就停止运行")]),s._v("\n        -w dumps.pcap       "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 将抓取信息保存到一个文件中")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br")])]),a("ul",[a("li",[s._v("监听 eth0 网卡时，会抓取本机与其它主机通信的数据包。监听 lo 网卡时，会抓取本机内部通信的数据包。")]),s._v(" "),a("li",[s._v("过滤表达式支持使用 and、or、not 运算符。")]),s._v(" "),a("li",[s._v("可以先用 tcpdump 抓包并保存为文件，然后在 Wireshark 的 GUI 界面中分析。")])])]),s._v(" "),a("li",[a("p",[s._v("下例是对一次 HTTP 请求的抓包：")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@CentOS ~"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# tcpdump -nn tcp and dst port 8000")]),s._v("\ntcpdump: verbose output suppressed, use -v or -vv "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" full protocol decode\nlistening on eth0, link-type EN10MB "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("Ethernet"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(", capture size "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("262144")]),s._v(" bytes\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("13")]),s._v(":46:14.669786 IP "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.124")]),s._v(".128.97.52152 "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.124")]),s._v(".130.12.8000: Flags "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("S"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(", "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("seq")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2920488928")]),s._v(", win "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("29200")]),s._v(", options "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("mss "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1424")]),s._v(",sackOK,TS val "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3983484990")]),s._v(" ecr "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(",nop,wscale "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("7")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(", length "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("13")]),s._v(":46:14.670038 IP "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.124")]),s._v(".128.97.52152 "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.124")]),s._v(".130.12.8000: Flags "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("."),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(", ack "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("174830516")]),s._v(", win "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("229")]),s._v(", options "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("nop,nop,TS val "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3983484990")]),s._v(" ecr "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2392282894")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(", length "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("13")]),s._v(":46:14.670095 IP "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.124")]),s._v(".128.97.52152 "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.124")]),s._v(".130.12.8000: Flags "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("P."),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(", "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("seq")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(":82, ack "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(", win "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("229")]),s._v(", options "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("nop,nop,TS val "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3983484990")]),s._v(" ecr "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2392282894")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(", length "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("82")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("13")]),s._v(":46:14.672466 IP "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.124")]),s._v(".128.97.52152 "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.124")]),s._v(".130.12.8000: Flags "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("."),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(", ack "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("18")]),s._v(", win "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("229")]),s._v(", options "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("nop,nop,TS val "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3983484992")]),s._v(" ecr "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2392282896")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(", length "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("13")]),s._v(":46:14.672591 IP "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.124")]),s._v(".128.97.52152 "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.124")]),s._v(".130.12.8000: Flags "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("."),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(", ack "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("378")]),s._v(", win "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("237")]),s._v(", options "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("nop,nop,TS val "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3983484992")]),s._v(" ecr "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2392282897")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(", length "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("13")]),s._v(":46:14.672667 IP "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.124")]),s._v(".128.97.52152 "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.124")]),s._v(".130.12.8000: Flags "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("F."),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(", "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("seq")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("82")]),s._v(", ack "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("378")]),s._v(", win "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("237")]),s._v(", options "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("nop,nop,TS val "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3983484993")]),s._v(" ecr "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2392282897")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(", length "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("13")]),s._v(":46:14.672805 IP "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.124")]),s._v(".128.97.52152 "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.124")]),s._v(".130.12.8000: Flags "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("."),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(", ack "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("379")]),s._v(", win "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("237")]),s._v(", options "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("nop,nop,TS val "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3983484993")]),s._v(" ecr "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2392282897")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(", length "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br")])]),a("ul",[a("li",[s._v("每行包含多个字段：时间戳 源地址 > 目的地址 Flags ... length")]),s._v(" "),a("li",[s._v("常见的几种 TCP 数据包标志："),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("S"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("     "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# SYN 数据包")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("."),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("     "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ACK 数据包")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("S."),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("    "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# SYN+ACK 数据包")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("P"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("     "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# PUSH 数据包")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("F"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("     "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# FIN 数据包")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("R"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("     "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# RST 数据包")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br")])])])])])]),s._v(" "),a("h2",{attrs:{id:"网速测试"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#网速测试"}},[s._v("#")]),s._v(" 网速测试")]),s._v(" "),a("h3",{attrs:{id:"speedtest"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#speedtest"}},[s._v("#")]),s._v(" speedtest")]),s._v(" "),a("p",[s._v("：一个命令行工具，用于测试本机到公网的网速，采用 Python 开发。")]),s._v(" "),a("ul",[a("li",[s._v("安装："),a("code",[s._v("pip install speedtest-cli")])]),s._v(" "),a("li",[s._v("命令："),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[s._v("speedtest-cli               "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 开始测试")]),s._v("\n              --list        "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 列出所有可用的 speedtest.net 服务器")]),s._v("\n              --server "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("id"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 采用指定的服务器进行测试")]),s._v("\n              --json        "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 测试结果显示成 json 格式")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])])]),s._v(" "),a("li",[s._v("例："),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@CentOS ~"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# speedtest-cli")]),s._v("\nRetrieving speedtest.net configuration"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v(".\nTesting from Tencent cloud computing "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("129.204")]),s._v(".40.71"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v(".   "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 发现本机的公网 IP")]),s._v("\nRetrieving speedtest.net server list"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v(".\nSelecting best server based on ping"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v(".                    "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 自动选择一个延迟最低的 speedtest.net 服务器来测试")]),s._v("\nHosted by China Mobile Group Beijing Co.Ltd "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("Beijing"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1.69")]),s._v(" km"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(": "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("50.546")]),s._v(" ms\nTesting download speed"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v("\nDownload: "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("21.60")]),s._v(" Mbit/s                                    "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 下载速度")]),s._v("\nTesting upload speed"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v("\nUpload: "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("22.35")]),s._v(" Mbit/s                                      "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 上传速度")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br")])])])]),s._v(" "),a("h3",{attrs:{id:"iperf"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#iperf"}},[s._v("#")]),s._v(" iperf")]),s._v(" "),a("p",[s._v("：一个命令行工具，可以作为服务端、客户端运行，从而测试任意两台主机之间的 TCP/UDP 带宽。")]),s._v(" "),a("ul",[a("li",[s._v("安装："),a("code",[s._v("yum install iperf")])]),s._v(" "),a("li",[s._v("用法：\n"),a("ul",[a("li",[s._v("先在一个主机上让 iperf 作为服务器运行，监听 80 端口："),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[s._v("iperf -s -p "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("80")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])])]),s._v(" "),a("li",[s._v("然后在另一个主机上让 iperf 作为客户端运行，开始测试："),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[s._v("iperf -c "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("服务器 IP"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" -p "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("80")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])])])])])]),s._v(" "),a("h2",{attrs:{id:"http-测试"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#http-测试"}},[s._v("#")]),s._v(" HTTP 测试")]),s._v(" "),a("h3",{attrs:{id:"ab"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ab"}},[s._v("#")]),s._v(" ab")]),s._v(" "),a("p",[s._v("：一个命令行工具，原名为 Apache Benchmark 。可作为 HTTP 客户端运行，对 HTTP 服务器进行压力测试。")]),s._v(" "),a("ul",[a("li",[s._v("安装："),a("code",[s._v("yum install httpd-tools")])]),s._v(" "),a("li",[s._v("命令："),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[s._v("ab -c "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("100")]),s._v(" -n "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10000")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("服务器 IP"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("    "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 模拟 100 个并发数，总共发送 10000 个请求报文")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])])])]),s._v(" "),a("h3",{attrs:{id:"wrk"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#wrk"}},[s._v("#")]),s._v(" wrk")]),s._v(" "),a("p",[s._v("：一个命令行工具，用于 HTTP 压测。")]),s._v(" "),a("ul",[a("li",[s._v("命令："),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[s._v("wrk "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("服务器 IP"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n    -t "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("12")]),s._v("                   "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 模拟的线程数")]),s._v("\n    -c "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("400")]),s._v("                  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 模拟的连接数")]),s._v("\n    -d "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("30")]),s._v("                   "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 测试的持续时间")]),s._v("\n    -H "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Connection: Close"')]),s._v("  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 测试短连接（默认是长连接）")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])])]),s._v(" "),a("li",[s._v("wrk 运行结束之后会显示测试结果，主要指标为：\n"),a("ul",[a("li",[s._v("Latency ：响应时间")]),s._v(" "),a("li",[s._v("Req/Sec ：每个线程每秒钟完成的请求数")]),s._v(" "),a("li",[s._v("Stdev ：标准差")])])])]),s._v(" "),a("h3",{attrs:{id:"postman"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#postman"}},[s._v("#")]),s._v(" Postman")]),s._v(" "),a("p",[s._v("：一个 GUI 工具，便于测试 HTTP 服务器的 API 。")]),s._v(" "),a("ul",[a("li",[s._v("可以将测试任务导出为 C、curl、Python 等形式的代码。")]),s._v(" "),a("li",[s._v("可以批量执行测试任务。")])]),s._v(" "),a("h3",{attrs:{id:"jmeter"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#jmeter"}},[s._v("#")]),s._v(" Jmeter")]),s._v(" "),a("p",[s._v("：一个 GUI 工具，提供了通用的网络测试功能，采用 Java 开发。")]),s._v(" "),a("ul",[a("li",[s._v("可作为命令行工具使用，也提供了 GUI 界面。")]),s._v(" "),a("li",[s._v("可测试 HTTP、FTP、MQTT 等多种通信协议，可进行功能测试、性能测试。")]),s._v(" "),a("li",[s._v("在左侧栏制定测试计划，然后点击 run 即可执行它。")]),s._v(" "),a("li",[s._v("测试计划中可以使用定时器等多种控件，实现丰富的控制逻辑。")])])])}),[],!1,null,null,null);t.default=e.exports}}]);