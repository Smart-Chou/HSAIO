(window.webpackJsonp=window.webpackJsonp||[]).push([[425],{1075:function(a,t,e){"use strict";e.r(t);var n=e(1),s=Object(n.a)({},(function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[e("p",[a._v("vaultwarden 目前不提供独立的二进制文件作为单独的下载，但对于具有基于 Alpine 的 Docker 映像可用的平台(当前为 x86-64 和 ARMv7)，您可以从官方 Docker 映像中提取独立的、静态链接的二进制文件。")]),a._v(" "),e("p",[a._v("每个 Docker 映像还包括一个匹配的 Web Vault 构建(与平台无关)。")]),a._v(" "),e("h2",{attrs:{id:"在安装了-docker-的情况下提取二进制文件"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#在安装了-docker-的情况下提取二进制文件"}},[a._v("#")]),a._v(" 在安装了 Docker 的情况下提取二进制文件")]),a._v(" "),e("p",[a._v("假设您要为正在运行的平台提取二进制文件：")]),a._v(" "),e("div",{staticClass:"language-sh line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-sh"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[a._v("docker")]),a._v(" pull vaultwarden/server:alpine\n"),e("span",{pre:!0,attrs:{class:"token function"}},[a._v("docker")]),a._v(" create --name vw vaultwarden/server:alpine\n"),e("span",{pre:!0,attrs:{class:"token function"}},[a._v("docker")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[a._v("cp")]),a._v(" vw:/vaultwarden "),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v(".")]),a._v("\n"),e("span",{pre:!0,attrs:{class:"token function"}},[a._v("docker")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[a._v("cp")]),a._v(" vw:/web-vault "),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v(".")]),a._v("\n"),e("span",{pre:!0,attrs:{class:"token function"}},[a._v("docker")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[a._v("rm")]),a._v(" vw\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br"),e("span",{staticClass:"line-number"},[a._v("2")]),e("br"),e("span",{staticClass:"line-number"},[a._v("3")]),e("br"),e("span",{staticClass:"line-number"},[a._v("4")]),e("br"),e("span",{staticClass:"line-number"},[a._v("5")]),e("br")])]),e("p",[a._v("如果你想要不同平台的二进制文件(例如，你只在 x86-64 机器上安装了 Docker，但你想在 Raspberry Pi 上运行 vaultwarden)，请将 "),e("code",[a._v("--platform")]),a._v(" 选项添加到 "),e("code",[a._v("docker pull")]),a._v("命令：")]),a._v(" "),e("div",{staticClass:"language-sh line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-sh"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[a._v("docker")]),a._v(" pull --platform linux/arm/v7 vaultwarden/server:alpine\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 像上面一样运行剩余的命令。")]),a._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 请注意，`docker create` 命令可能会打印如下消息：")]),a._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 警告：请求的镜像平台 (linux/arm/v7) 与检测到的主机平台 (linux/amd64) 不匹配")]),a._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 并且没有请求特定的平台")]),a._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 这是意料之中的，无需担心。")]),a._v("\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br"),e("span",{staticClass:"line-number"},[a._v("2")]),e("br"),e("span",{staticClass:"line-number"},[a._v("3")]),e("br"),e("span",{staticClass:"line-number"},[a._v("4")]),e("br"),e("span",{staticClass:"line-number"},[a._v("5")]),e("br"),e("span",{staticClass:"line-number"},[a._v("6")]),e("br")])]),e("h2",{attrs:{id:"extracting-binaries-without-docker-installed"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#extracting-binaries-without-docker-installed"}},[a._v("#")]),a._v(" Extracting binaries without Docker installed")]),a._v(" "),e("p",[a._v("如果你不能或不想安装 Docker，你可以使用 "),e("a",{attrs:{href:"https://github.com/jjlin/docker-image-extract",target:"_blank",rel:"noopener noreferrer"}},[a._v("docker-image-extract"),e("OutboundLink")],1),a._v(" 脚本来拉取和提取 Docker 镜像.例如，要拉取和提取 x86-64 镜像：")]),a._v(" "),e("div",{staticClass:"language-sh line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-sh"}},[e("code",[a._v("$ "),e("span",{pre:!0,attrs:{class:"token function"}},[a._v("mkdir")]),a._v(" vw-image\n$ "),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("cd")]),a._v(" vw-image\n$ "),e("span",{pre:!0,attrs:{class:"token function"}},[a._v("wget")]),a._v(" https://raw.githubusercontent.com/jjlin/docker-image-extract/main/docker-image-extract\n$ "),e("span",{pre:!0,attrs:{class:"token function"}},[a._v("chmod")]),a._v(" +x docker-image-extract\n$ ./docker-image-extract vaultwarden/server:alpine\nGetting API token"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("..")]),a._v(".\nGetting image manifest "),e("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("for")]),a._v(" vaultwarden/server:alpine"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("..")]),a._v(".\nDownloading layer 801bfaa63ef2094d770c809815b9e2b9c1194728e5e754ef7bc764030e140cea"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("..")]),a._v(".\nExtracting layer"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("..")]),a._v(".\nDownloading layer c6d331ed95271d8005dea195449ab4ef943017dc97ab134a4426faf441ae4fa6"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("..")]),a._v(".\nExtracting layer"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("..")]),a._v(".\nDownloading layer bfd9ec32f740ca8c86ccde057595d29a31eb093aafd7619fcdd4b956c7bf95e3"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("..")]),a._v(".\nExtracting layer"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("..")]),a._v(".\nDownloading layer e9bfb5d92e4629b1dcb4a13a470c90f51b9edde4e184d8520afc589728b8b675"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("..")]),a._v(".\nExtracting layer"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("..")]),a._v(".\nDownloading layer 5757963c858ce72bc4a1874f4971d326d21d2a844f03063a3c99e312150adf95"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("..")]),a._v(".\nExtracting layer"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("..")]),a._v(".\nDownloading layer f705bf64e4315fea1830cc137d1deda194e825da03bd7822e41ac52457bc83e7"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("..")]),a._v(".\nExtracting layer"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("..")]),a._v(".\nDownloading layer 909b5deb38cbce9f83598918bf7f38b7c2194d385456cf7ef15eff47f8a63108"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("..")]),a._v(".\nExtracting layer"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("..")]),a._v(".\nDownloading layer 8516f4cd818630cd60fa18254b072f8d9c3748bdb56f6e2527dc1c204e8e017c"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("..")]),a._v(".\nExtracting layer"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("..")]),a._v(".\nImage contents extracted into ./output.\n$ "),e("span",{pre:!0,attrs:{class:"token function"}},[a._v("ls")]),a._v(" -ld output/"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("vaultwarden,web-vault"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n-rwx------ "),e("span",{pre:!0,attrs:{class:"token number"}},[a._v("1")]),a._v(" user user "),e("span",{pre:!0,attrs:{class:"token number"}},[a._v("22054608")]),a._v(" Feb  "),e("span",{pre:!0,attrs:{class:"token number"}},[a._v("6")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[a._v("21")]),a._v(":46 output/vaultwarden\ndrwx------ "),e("span",{pre:!0,attrs:{class:"token number"}},[a._v("8")]),a._v(" user user     "),e("span",{pre:!0,attrs:{class:"token number"}},[a._v("4096")]),a._v(" Feb  "),e("span",{pre:!0,attrs:{class:"token number"}},[a._v("6")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[a._v("21")]),a._v(":46 output/web-vault/\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br"),e("span",{staticClass:"line-number"},[a._v("2")]),e("br"),e("span",{staticClass:"line-number"},[a._v("3")]),e("br"),e("span",{staticClass:"line-number"},[a._v("4")]),e("br"),e("span",{staticClass:"line-number"},[a._v("5")]),e("br"),e("span",{staticClass:"line-number"},[a._v("6")]),e("br"),e("span",{staticClass:"line-number"},[a._v("7")]),e("br"),e("span",{staticClass:"line-number"},[a._v("8")]),e("br"),e("span",{staticClass:"line-number"},[a._v("9")]),e("br"),e("span",{staticClass:"line-number"},[a._v("10")]),e("br"),e("span",{staticClass:"line-number"},[a._v("11")]),e("br"),e("span",{staticClass:"line-number"},[a._v("12")]),e("br"),e("span",{staticClass:"line-number"},[a._v("13")]),e("br"),e("span",{staticClass:"line-number"},[a._v("14")]),e("br"),e("span",{staticClass:"line-number"},[a._v("15")]),e("br"),e("span",{staticClass:"line-number"},[a._v("16")]),e("br"),e("span",{staticClass:"line-number"},[a._v("17")]),e("br"),e("span",{staticClass:"line-number"},[a._v("18")]),e("br"),e("span",{staticClass:"line-number"},[a._v("19")]),e("br"),e("span",{staticClass:"line-number"},[a._v("20")]),e("br"),e("span",{staticClass:"line-number"},[a._v("21")]),e("br"),e("span",{staticClass:"line-number"},[a._v("22")]),e("br"),e("span",{staticClass:"line-number"},[a._v("23")]),e("br"),e("span",{staticClass:"line-number"},[a._v("24")]),e("br"),e("span",{staticClass:"line-number"},[a._v("25")]),e("br"),e("span",{staticClass:"line-number"},[a._v("26")]),e("br"),e("span",{staticClass:"line-number"},[a._v("27")]),e("br")])]),e("p",[a._v("如果您想要 ARMv7 映像，您目前必须通过摘要下载它。")]),a._v(" "),e("p",[a._v("转到 "),e("a",{attrs:{href:"https://hub.docker.com/r/vaultwarden/server/tags?name=alpine",target:"_blank",rel:"noopener noreferrer"}},[a._v("https://hub.docker.com/r/vaultwarden/server/tags?name=alpine"),e("OutboundLink")],1),a._v(" 并找到 "),e("code",[a._v("alpine")]),a._v(" 标签的条目。\n单击"),e("code",[a._v("linux/arm/v7")]),a._v("映像的部分摘要：\n"),e("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/Smart-Chou/webphoto@latest/note/Hsz8vJ4.png",alt:"#",loading:"lazy"}})]),a._v(" "),e("p",[a._v("这应该会将您带到一个显示完整摘要的页面：")]),a._v(" "),e("p",[e("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/Smart-Chou/webphoto@latest/note/T5WdwtS.png",alt:"#",loading:"lazy"}})]),a._v(" "),e("p",[a._v("复制完整摘要，并将上面的 "),e("code",[a._v("docker-image-extract vaultwarden/server:alpine")]),a._v(" 命令替换为\n"),e("code",[a._v("docker-image-extract Vaultwarden/server:<full_digest>")]),a._v("。")]),a._v(" "),e("p",[a._v("例如：")]),a._v(" "),e("div",{staticClass:"language-sh line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-sh"}},[e("code",[a._v("$ ./docker-image-extract vaultwarden/server:sha256:ef129de113bec3409b6370c37a6e5573a1dacc051a3aae2a8a3339323ae63623\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br")])])])}),[],!1,null,null,null);t.default=s.exports}}]);